<!DOCTYPE html>
<!-- saved from url=(0057)http://m.elong.com/minsu/#/home>>>timestamp=1529307238278 -->
<html>
  
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>民宿客栈</title>
    <meta name="full-screen" content="yes">
    <meta name="browsermode" content="application">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <link rel="dns-prefetch">
    <link rel="dns-prefetch">
    <link rel="dns-prefetch">
    <link rel="preconnect">
    <link rel="stylesheet"  href=" <?php echo base_url('/assets/css/layout.min.css'); ?>">
    <link rel="stylesheet"  href=" <?php echo base_url('/assets/css/scs.min.css'); ?>">
    <link rel="stylesheet"  href=" <?php echo base_url('/assets/css/styles.css'); ?>">
    <link rel="stylesheet"  href=" <?php echo base_url('/assets/css/hotelpage.css'); ?>">
    <link rel="stylesheet"  href=" <?php echo base_url('/assets/css/common.53c00852.css'); ?>">
    <link rel="stylesheet"  href=" <?php echo base_url('/assets/css/main.9454c360.css'); ?>">
    <meta name="x5-orientation" content="portrait">
    <meta name="x5-fullscreen" content="true">
    <meta name="x5-page-mode" content="app">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0,minimal-ui">
    <script type="text/javascript">// 性能对象
      window.$performance = {
        // 各个时间关键点
        timing: {
          // 时间统计起点
          start: +new Date()
        }
      };</script>
    
    <script src =" <?php echo base_url('/assets/js/jquery-1.11.1.min.js'); ?>" type="text/javascript"></script>
    <script src =" <?php echo base_url('/assets/js/CNAddrArr.min.js'); ?>" type="text/javascript"></script>
    <script src =" <?php echo base_url('/assets/js/jquery.scs.min.js'); ?>" type="text/javascript"></script>

    <script src =" <?php echo base_url('/assets/js/moment.js'); ?>" type="text/javascript"></script>
    <script src =" <?php echo base_url('/assets/js/bootstrap-datetimepicker.js'); ?>" type="text/javascript"></script>
    <style type="text/css"></style>
    <style type="text/css"></style>
    <style type="text/css"></style>
    <style type="text/css"></style>
    <style type="text/css" data-src="enjoy-web-support-elong/tools/Share/index.css"></style>
    <style type="text/css" data-src="/src/views/home/banner/index.css"></style>
    <style type="text/css" data-src="/src/swiper/index.css"></style>
    <style type="text/css" data-src="/src/index.css"></style>
    <style type="text/css" data-src="/src/toast/index.css"></style>
    <style type="text/css" data-src="/src/components/city-selector/index.css"></style>
    <style type="text/css" data-src="/src/components/city-selector/SearchBar/index.css"></style>
    <style type="text/css" data-src="/src/index.css"></style>
    <style type="text/css" data-src="/src/components/city-selector/Index/index.css"></style>
    <style type="text/css" data-src="/src/components/city-selector/SearchMatch/index.css"></style>
    <style type="text/css" data-src="/src/components/search/index.css"></style>
    <style type="text/css" data-src="/src/components/search/SearchBar/index.css"></style>
    <style type="text/css" data-src="/src/components/search/SearchSug/index.css"></style>
    <style type="text/css" data-src="/src/components/loading/loading.css">.loading.ej-css-13,.ej-css-13 .loading{position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(255,255,255,.1) url() no-repeat center center;background-size:106px 93px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;z-index:9999;}.loading.ej-css-13 span,.ej-css-13 .loading span{display:block;font-size:14px;color:#999;margin-top:126px;}</style>
    <style type="text/css" data-src="/src/views/home/hotItem/index.css"></style>
    <style type="text/css" data-src="/src/views/houseList/houseItem/index.css"></style>
  </head>
  <body>
    <div>
      <div data-reactroot="" style="position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; overflow: hidden;">
        <div class="ej-router-layer">
          <div class="ej-router-layer">
            <div class="ej-router-layer ej-router-current">
              <div class="ej-tag-body ej-css-0">
                <div class="main  ">
                  <div class="ej-tag-scroll-view ej-scroll-view">
                    <div class="ej-scroll-view-content">
                      <div class="banner-component ej-css-1">
                        <div class="banner ej-tag-swiper ej-css-2" style="position: relative; overflow: hidden; visibility: visible;">
                          <div class="content  " style="width: 1440px;">
                            <div class="item   " data-index="0" style="width: 360px; left: 0px; transition-duration: 0ms; transform: translate(0px, 0px) translateZ(0px);">
                              <a class="banner-item ej-tag-a" title="2018端午">
                                <span class="ej-tag-img" style="background-image: url(&quot;<?php echo base_url('/assets/img/hotel.jpg'); ?>&quot;); background-size: cover; background-position: 50% 50%; opacity: 1; transition: opacity 0.2s linear;"></span>
                              </a>
                            </div>
                            <div class="item   " data-index="1" style="width: 360px; left: -360px; transition-duration: 0ms; transform: translate(360px, 0px) translateZ(0px);">
                              <a class="banner-item ej-tag-a" title="房东招募">
                                <span class="ej-tag-img" style="background-image: url(&quot;<?php echo base_url('/assets/img/hotel.jpg'); ?>&quot;); background-size: cover; background-position: 50% 50%; opacity: 1; transition: opacity 0.2s linear;"></span>
                              </a>
                            </div>
                            <div class="item   " data-index="2" style="width: 360px; left: -720px; transition-duration: 0ms; transform: translate(360px, 0px) translateZ(0px);">
                              <a class="banner-item ej-tag-a" title="2018端午">
                                <span class="ej-tag-img" style="background-image: url(&quot;<?php echo base_url('/assets/img/hotel.jpg'); ?>&quot;); background-size: cover; background-position: 50% 50%; opacity: 0; transition: opacity 0.2s linear;"></span>
                              </a>
                            </div>
                            <div class="item   " data-index="3" style="width: 360px; left: -1080px; transition-duration: 0ms; transform: translate(-360px, 0px) translateZ(0px);">
                              <a class="banner-item ej-tag-a" title="房东招募">
                                <span class="ej-tag-img" style="background-image: url(&quot;<?php echo base_url('/assets/img/hotel.jpg'); ?>&quot;); background-size: cover; background-position: 50% 50%; opacity: 0; transition: opacity 0.2s linear;"></span>
                              </a>
                            </div>
                          </div>
                        </div>
                        <div class="banner-pager ej-tag-swiper-pager ej-css-3">
                          <span class=" " style="background-color: rgb(255, 255, 255); opacity: 1;"></span>
                          <a class="ej-tag-a" style="background-color: rgb(255, 255, 255); opacity: 0.5;"></a>
                        </div>
                      </div>
                      <div class="search-bg    ">
                        <div class="search-ui     ">
                          <div class="search      ">
                            <div class="city       ">
                                <input type="text" readonly placeholder="Click me to pick an address" id="myAddrs" name="addr" data-key="4-84-1298" value="北京 北京市 海淀区" style="border: none;text-align: center;" />
                            </div>
                            <i class="split       "></i>
                          </div>
                          <div class="date      ">
                            <div class="searchdate-in       ">
                              <div class="date-in-left        ">
                                <!-- /react-text -->
                              <div class="iDate date">
                                <input type="text" class="addOn" id="indate">
                              </div>
                                <span >入住</span></div>
                              <div class="data-in-right        ">
                                <div class="zhanwei         ">
                                  <span class="date-in-icon fn-hide"></span>
                                </div>
                                <span class="date-in-desc         ">今天</span></div>
                            </div>
                            <div class="searchdate-num" style="padding-left: 5px;padding-right: 5px;">
                              <!-- react-text: 28 -->共
                              <!-- /react-text -->
                              <!-- react-text: 29 -->1
                              <!-- /react-text -->
                              <!-- react-text: 30 -->晚
                              <!-- /react-text -->
                                  
                              </div>
                            <div class="searchdate-out       ">
                              <div class="date-out-left        ">
                                <!-- /react-text -->
                                <div class="iDate date">
                                    <input type="text" class="addOn"  id="outdate">
                                </div>
                                <span class="        ">离开</span></div>
                              <div class="date-out-right        ">
                                <div class="zhanwei         ">
                                  <span class="date-out-icon fn-hide"></span>
                                </div>
                                <span class="date-in-desc         ">明天</span></div>
                            </div>
                          </div>
                          <div class="search      ">
                            <div class="searchtxt       ">
                              <span class="text        ">
                                <!-- react-text: 42 -->
                                <!-- /react-text -->
                               <input type="" name="" id="hotelName" placeholder="输入酒店名称" style="border: none;text-align: center;"></span>
                            </div>
                            <a class="ej-tag-a cancel fn-hide"></a>
                          </div>
                          <a class="search-button ej-tag-a">搜索</a></div>
                      </div>
                      <div class="house-info    ">
                        <div class="houseHistoryList fn-hide">
                          <div class="ej-tag-scroll-view ej-scroll-view ej-scroll-view-h" style="width: 100%;">
                            <div class="ej-scroll-view-content ej-scroll-view-h-content"></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="ej-navbar ej-navbar-hide">
            <div class="ej-navbar-layer"></div>
            <div class="ej-navbar-layer"></div>
          </div>
          d
        </div>
      </div>
    </div>
  </body>
    
    <script>
        $(function() {
            /**
             * 通过数组id获取地址列表数组
             *
             * @param {Number} id
             * @return {Array} 
             */ 
            function getAddrsArrayById(id) {
                var results = [];
                if (addr_arr[id] != undefined)
                    addr_arr[id].forEach(function(subArr) {
                        results.push({
                            key: subArr[0],
                            val: subArr[1]
                        });
                    });
                else {
                    return;
                }
                return results;
            }
            /**
             * 通过开始的key获取开始时应该选中开始数组中哪个元素
             *
             * @param {Array} StartArr
             * @param {Number|String} key
             * @return {Number} 
             */         
            function getStartIndexByKeyFromStartArr(startArr, key) {
                var result = 0;
                if (startArr != undefined)
                    startArr.forEach(function(obj, index) {
                        if (obj.key == key) {
                            result = index;
                            return false;
                        }
                    });
                return result;
            }

              //bind the click event for 'input' element
            $("#myAddrs").click(function() {
                var PROVINCES = [],
                    startCities = [],
                    startDists = [];
                //Province data，shall never change.
                addr_arr[0].forEach(function(prov) {
                    PROVINCES.push({
                        key: prov[0],
                        val: prov[1]
                    });
                });
                //init other data.
                var $input = $(this),
                    dataKey = $input.attr("data-key"),
                    provKey = 1, //default province 北京
                    cityKey = 36, //default city 北京
                    distKey = 37, //default district 北京东城区
                    distStartIndex = 0, //default 0
                    cityStartIndex = 0, //default 0
                    provStartIndex = 0; //default 0

                  if (dataKey != "" && dataKey != undefined) {
                    var sArr = dataKey.split("-");
                    if (sArr.length == 3) {
                        provKey = sArr[0];
                        cityKey = sArr[1];
                        distKey = sArr[2];

                      } else if (sArr.length == 2) { //such as 台湾，香港 and the like.
                        provKey = sArr[0];
                        cityKey = sArr[1];
                    }
                    startCities = getAddrsArrayById(provKey);
                    startDists = getAddrsArrayById(cityKey);
                    provStartIndex = getStartIndexByKeyFromStartArr(PROVINCES, provKey);
                    cityStartIndex = getStartIndexByKeyFromStartArr(startCities, cityKey);
                    distStartIndex = getStartIndexByKeyFromStartArr(startDists, distKey);
                }
                var navArr = [{//3 scrollers, and the title and id will be as follows:
                    title: "省",
                    id: "scs_items_prov"
                }, {
                    title: "市",
                    id: "scs_items_city"
                }, {
                    title: "区",
                    id: "scs_items_dist"
                }];
                SCS.init({
                    navArr: navArr,
                    onOk: function(selectedKey, selectedValue) {
                        $input.val(selectedValue).attr("data-key", selectedKey);
                    }
                });
                var distScroller = new SCS.scrollCascadeSelect({
                    el: "#" + navArr[2].id,
                    dataArr: startDists,
                    startIndex: distStartIndex
                });
                var cityScroller = new SCS.scrollCascadeSelect({
                    el: "#" + navArr[1].id,
                    dataArr: startCities,
                    startIndex: cityStartIndex,
                    onChange: function(selectedItem, selectedIndex) {
                        distScroller.render(getAddrsArrayById(selectedItem.key), 0); //re-render distScroller when cityScroller change
                    }
                });
                var provScroller = new SCS.scrollCascadeSelect({
                    el: "#" + navArr[0].id,
                    dataArr: PROVINCES,
                    startIndex: provStartIndex,
                    onChange: function(selectedItem, selectedIndex) { //re-render both cityScroller and distScroller when provScroller change
                        cityScroller.render(getAddrsArrayById(selectedItem.key), 0);
                        distScroller.render(getAddrsArrayById(cityScroller.getSelectedItem().key), 0);
                    }
                });
            });
        });
    </script>
    <script type="text/javascript">
        $(document).ready(function(){
            if($(".iDate.date").length>0){
                $(".iDate.date").datetimepicker({
                    locale:"zh-cn",
                    format:"YYYY-MM-DD",
                    dayViewHeaderFormat:"YYYY年 MMMM"
                });
            }
        })
    </script>
    <script type="text/javascript">
      $('.search-button').click( function() {
        var addr = $('#myAddrs').val();
        var hotelName = $('#hotelName').val();
        var indate = $('#indate').val();
        var outdate = $('#outdate').val();

        if( hotelName.length == 0) {
            alert('请输入酒店名称');
            return;
        }
        addr = addr.replace(/\s+/g,"");
        window.location.href = 'http://localhost/vms/dashboard/get-hotel?addr=' + addr +'&hotelName=' + hotelName + '&checkdate=' + indate;
      });
    </script>
</html>