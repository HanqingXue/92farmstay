!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n=window.webpackJsonp;window.webpackJsonp=function(r,o,a){for(var s,l,c,u=0,d=[];u<r.length;u++)l=r[u],i[l]&&d.push(i[l][0]),i[l]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);for(n&&n(r,o,a);d.length;)d.shift()();if(a)for(u=0;u<a.length;u++)c=e(e.s=a[u]);return c};var r={},i={1:0};e.e=function(t){function n(){s.onerror=s.onload=null,clearTimeout(l);var e=i[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),i[t]=void 0)}var r=i[t];if(0===r)return new Promise(function(t){t()});if(r)return r[2];var o=new Promise(function(e,n){r=i[t]=[e,n]});r[2]=o;var a=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,e.nc&&s.setAttribute("nonce",e.nc),s.src=e.p+""+t+".js";var l=setTimeout(n,12e4);return s.onerror=s.onload=n,a.appendChild(s),o},e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e.oe=function(t){throw console.error(t),t},e(e.s=52)}([function(t,e,n){var r,i;r=[n(51),n(33),n(32),n(31)],void 0!==(i=function(t,e,n){if("undefined"!=typeof slark)return slark;t=Blend.ui;var r={};r.initTime=Date.now(),r.is_exists=function(t,e){var n=this.router.routers[t];return void 0!==n&&void 0!==n[e]&&!0===n[e]},r.needHashUrl=function(t){var e=this.router.routers[t];return void 0!==e&&!!e.needHashUrl},r.onrender=function(e,n){"function"==typeof e?$(document).on("onrender",e):t.layerInit(e,n)},r.onreload=function(){},r.router=new n,r.addPager=function(e){var n,i,o=!!r.isLowDevice;return i=e.id?r.router.getInfoFromId(e.id):r.router.getInfoFromUrl(e.url),i?(e.title=i.title,n=e.id=i.tpl,e.lindex=i.lindex,e.is_frender=i.is_frender,e.is_hash=i.is_hash,e.is_offline=i.is_offline,e.errorHandle=i.errorHandle,e.withoutData=i.withoutData):o=!0,o&&!e.main?(location.href=e.url,!1):("undefined"!=typeof template&&void 0===e.tpl?e.tpl=template.get(i.tpl)&&"function"==typeof template.get(i.tpl)?template.get(i.tpl):e.id:void 0===e.tpl&&(e.tpl=e.id),e.url=r.router.cleanUrl(e.url,e.id),n&&r.get(n)?void r.get(n).in(e):new t.Layer(e))},r.addGroup=function(e){return"undefined"!=typeof template&&template.get(r.getActiveId()),new t.LayerGroup(e)},r.get=function(e){return t.get(e)},r.canGoBack=function(){return t.canGoBack()},r.getActiveId=function(){return t.activeLayer?t.activeLayer.attr("data-blend-id"):0},r.getActiveLayer=function(){return t.activeLayer};for(var i in e)r[i]=e[i];return r.init=function(e){if(1===$(".pages>.page").length||1===$(".doc-page .pages>.page").length){var n=$(".pages>.page");if(!n.attr("data-blend")){var i,o,a=location.pathname+location.search,s=r.router.getInfoFromUrl(location.href);void 0!==s&&"unedfiend"!==s.is_hash&&!0===s.is_hash&&(o=location.hash,o&&o.indexOf("!&")?(i=o.substr(o.indexOf("!&")).replace(/!&/g,"&&").replace("&&","?"),a=s.url+i):a=s.url),n.addClass("page-on-center");var l=s&&!0===s.is_frender?"template":"html";"undefined"!=typeof template&&(l=template.get(s.tpl)&&"function"==typeof template.get(s.tpl)?template.get(s.tpl):"html"),t.project=e;new r.addPager({url:a,main:n[0],tpl:l,active:!0})}}},r.ui=t,window.slark=r,r}.apply(e,r))&&(t.exports=i)},function(t,e,n){var r;void 0!==(r=function(t){var e={},r=n(27),i=n(28),o=22;return e.getUniqueID=function(t){return(t=t||"uniq")+o++},e.noop=function(){},e.offloadFn=function(t){setTimeout(t||e.noop,0)},Array.prototype.contains=function(t){for(var e in this)if(this[e]==t)return!0;return!1},r.extend(e,r),r.extend(e,i),e}.call(e,n,e,t))&&(t.exports=r)},,function(t,e,n){var r,i;r=[n(1),n(11),n(49)],void 0!==(i=function(t,e,n){var r={},i={},o={};return r.version="alpha",t.extend(r,n),r.layerInit=function(t,e){o[t]=e;var n=r.get(t);n&&n.isRender()&&e&&e.call(n,n.main,n.controllerData)},$(document).on("onrender",function(t){var e=void 0!==t.originalEvent?t.originalEvent.detail:t.detail;if(e&&o[e]){var n=r.get(e);o[e].call(n,n.main,n.controllerData)}n&&n.isRender(!0)}),r.ready=function(t){/complete|loaded/.test(document.readyState)&&document.body?t():document.addEventListener("DOMContentLoaded",function(){t()},!1)},r.ready(function(){e.fire("blendready"),r.activeLayer=$(".page")}),r.inRuntime=function(){return!1},r.getLayerId=function(){return Blend.ui.activeLayer.attr("data-blend-id")},r.getUI=function(t){t=$(t)[0];do{if(!t||9==t.nodeType)return null;if(t.getAttribute("data-blend"))return i[t.getAttribute("data-blend-id")]}while((t=t.parentNode)!=document.body)},r.register=function(t){console.log("reg: "+t.id),i[t.id]=t},r.cancel=function(t){delete i[t.id]},r.create=function(t,e){},r.canGoBack=function(){return r.layerStack.length},r.get=function(t){return"0"===t&&(i[t]||(i[t]=new r.Layer({id:"0"}),$(".page").length?i[t].main=$(".page")[0]:console.warn(" '0' page need to have classes .pages>.page>.page-content "))),i[t]},r.on=e.on,r.once=e.once,r.off=e.off,r.fire=e.fire,r.layerStack=[],r}.apply(e,r))&&(t.exports=i)},function(t,e){var n=function(){function t(t){return null==t?String(t):V[X.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function r(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function i(e){return"object"==t(e)}function o(t){return i(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function a(t){return"number"==typeof t.length}function s(t){return L.call(t,function(t){return null!=t})}function l(t){return t.length>0?C.fn.concat.apply([],t):t}function c(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(t){return t in _?_[t]:_[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function d(t,e){return"number"!=typeof e||O[c(t)]?e:e+"px"}function f(t){var e,n;return j[t]||(e=A.createElement(t),A.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),j[t]=n),j[t]}function p(t){return"children"in t?$.call(t.children):C.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function h(t,e,n){for(x in e)n&&(o(e[x])||W(e[x]))?(o(e[x])&&!o(t[x])&&(t[x]={}),W(e[x])&&!W(t[x])&&(t[x]=[]),h(t[x],e[x],n)):e[x]!==S&&(t[x]=e[x])}function g(t,e){return null==e?C(t):C(t).filter(e)}function v(t,n,r,i){return e(n)?n.call(t,r,i):n}function m(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function y(t,e){var n=t.className||"",r=n&&n.baseVal!==S;if(e===S)return r?n.baseVal:n;r?n.baseVal=e:t.className=e}function b(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?C.parseJSON(t):t):t}catch(e){return t}}function w(t,e){e(t);for(var n=0,r=t.childNodes.length;n<r;n++)w(t.childNodes[n],e)}var S,x,C,E,T,k,I=[],$=I.slice,L=I.filter,A=window.document,j={},_={},O={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},P=/^\s*<(\w+|!)[^>]*>/,U=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,D=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,B=/^(?:body|html)$/i,H=/([A-Z])/g,M=["val","css","html","text","data","width","height","offset"],R=["after","prepend","before","append"],N=A.createElement("table"),F=A.createElement("tr"),G={tr:A.createElement("tbody"),tbody:N,thead:N,tfoot:N,td:F,th:F,"*":A.createElement("div")},q=/complete|loaded|interactive/,z=/^[\w-]*$/,V={},X=V.toString,Y={},J=A.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},W=Array.isArray||function(t){return t instanceof Array};return Y.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,i=t.parentNode,o=!i;return o&&(i=J).appendChild(t),r=~Y.qsa(i,e).indexOf(t),o&&J.removeChild(t),r},T=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},k=function(t){return L.call(t,function(e,n){return t.indexOf(e)==n})},Y.fragment=function(t,e,n){var r,i,a;return U.test(t)&&(r=C(A.createElement(RegExp.$1))),r||(t.replace&&(t=t.replace(D,"<$1></$2>")),e===S&&(e=P.test(t)&&RegExp.$1),e in G||(e="*"),a=G[e],a.innerHTML=""+t,r=C.each($.call(a.childNodes),function(){a.removeChild(this)})),o(n)&&(i=C(r),C.each(n,function(t,e){M.indexOf(t)>-1?i[t](e):i.attr(t,e)})),r},Y.Z=function(t,e){return t=t||[],t.__proto__=C.fn,t.selector=e||"",t},Y.isZ=function(t){return t instanceof Y.Z},Y.init=function(t,n){var r;if(!t)return Y.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&P.test(t))r=Y.fragment(t,RegExp.$1,n),t=null;else{if(n!==S)return C(n).find(t);r=Y.qsa(A,t)}else{if(e(t))return C(A).ready(t);if(Y.isZ(t))return t;if(W(t))r=s(t);else if(i(t))r=[t],t=null;else if(P.test(t))r=Y.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==S)return C(n).find(t);r=Y.qsa(A,t)}}return Y.Z(r,t)},C=function(t,e){return Y.init(t,e)},C.extend=function(t){var e,n=$.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){h(t,n,e)}),t},Y.qsa=function(t,e){var n,i="#"==e[0],o=!i&&"."==e[0],a=i||o?e.slice(1):e,s=z.test(a);return r(t)&&s&&i?(n=t.getElementById(a))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:$.call(s&&!i?o?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},C.contains=A.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},C.type=t,C.isFunction=e,C.isWindow=n,C.isArray=W,C.isPlainObject=o,C.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},C.inArray=function(t,e,n){return I.indexOf.call(e,t,n)},C.camelCase=T,C.trim=function(t){return null==t?"":String.prototype.trim.call(t)},C.uuid=0,C.support={},C.expr={},C.map=function(t,e){var n,r,i,o=[];if(a(t))for(r=0;r<t.length;r++)null!=(n=e(t[r],r))&&o.push(n);else for(i in t)null!=(n=e(t[i],i))&&o.push(n);return l(o)},C.each=function(t,e){var n,r;if(a(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(r in t)if(!1===e.call(t[r],r,t[r]))return t;return t},C.grep=function(t,e){return L.call(t,e)},window.JSON&&(C.parseJSON=JSON.parse),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){V["[object "+e+"]"]=e.toLowerCase()}),C.fn={forEach:I.forEach,reduce:I.reduce,push:I.push,sort:I.sort,indexOf:I.indexOf,concat:I.concat,map:function(t){return C(C.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return C($.apply(this,arguments))},ready:function(t){return q.test(A.readyState)&&A.body?t(C):A.addEventListener("DOMContentLoaded",function(){t(C)},!1),this},get:function(t){return t===S?$.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return I.every.call(this,function(e,n){return!1!==t.call(e,n,e)}),this},filter:function(t){return e(t)?this.not(this.not(t)):C(L.call(this,function(e){return Y.matches(e,t)}))},add:function(t,e){return C(k(this.concat(C(t,e))))},is:function(t){return this.length>0&&Y.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==S)this.each(function(e){t.call(this,e)||n.push(this)});else{var r="string"==typeof t?this.filter(t):a(t)&&e(t.item)?$.call(t):C(t);this.forEach(function(t){r.indexOf(t)<0&&n.push(t)})}return C(n)},has:function(t){return this.filter(function(){return i(t)?C.contains(this,t):C(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!i(t)?t:C(t)},last:function(){var t=this[this.length-1];return t&&!i(t)?t:C(t)},find:function(t){var e=this;return t?"object"==typeof t?C(t).filter(function(){var t=this;return I.some.call(e,function(e){return C.contains(e,t)})}):1==this.length?C(Y.qsa(this[0],t)):this.map(function(){return Y.qsa(this,t)}):C()},closest:function(t,e){var n=this[0],i=!1;for("object"==typeof t&&(i=C(t));n&&!(i?i.indexOf(n)>=0:Y.matches(n,t));)n=n!==e&&!r(n)&&n.parentNode;return C(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=C.map(n,function(t){if((t=t.parentNode)&&!r(t)&&e.indexOf(t)<0)return e.push(t),t});return g(e,t)},parent:function(t){return g(k(this.pluck("parentNode")),t)},children:function(t){return g(this.map(function(){return p(this)}),t)},contents:function(){return this.map(function(){return $.call(this.childNodes)})},siblings:function(t){return g(this.map(function(t,e){return L.call(p(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return C.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=f(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var r=C(t).get(0),i=r.parentNode||this.length>1;return this.each(function(e){C(this).wrapAll(n?t.call(this,e):i?r.cloneNode(!0):r)})},wrapAll:function(t){if(this[0]){C(this[0]).before(t=C(t));for(var e;(e=t.children()).length;)t=e.first();C(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var r=C(this),i=r.contents(),o=n?t.call(this,e):t;i.length?i.wrapAll(o):r.append(o)})},unwrap:function(){return this.parent().each(function(){C(this).replaceWith(C(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=C(this);(t===S?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return C(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return C(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;C(this).empty().append(v(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=v(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(i(t))for(x in t)m(this,x,t[x]);else m(this,t,v(this,e,n,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:S},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){m(this,t)},this)})},prop:function(t,e){return t=Z[t]||t,1 in arguments?this.each(function(n){this[t]=v(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(t,e){var n="data-"+t.replace(H,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,e):this.attr(n);return null!==r?b(r):S},val:function(t){return 0 in arguments?this.each(function(e){this.value=v(this,t,e,this.value)}):this[0]&&(this[0].multiple?C(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=C(this),r=v(this,t,e,n.offset()),i=n.offsetParent().offset(),o={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var r,i=this[0];if(!i)return;if(r=getComputedStyle(i,""),"string"==typeof e)return i.style[T(e)]||r.getPropertyValue(e);if(W(e)){var o={};return C.each(e,function(t,e){o[e]=i.style[T(e)]||r.getPropertyValue(e)}),o}}var a="";if("string"==t(e))n||0===n?a=c(e)+":"+d(e,n):this.each(function(){this.style.removeProperty(c(e))});else for(x in e)e[x]||0===e[x]?a+=c(x)+":"+d(x,e[x])+";":this.each(function(){this.style.removeProperty(c(x))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(C(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&I.some.call(this,function(t){return this.test(y(t))},u(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){E=[];var n=y(this);v(this,t,e,n).split(/\s+/g).forEach(function(t){C(this).hasClass(t)||E.push(t)},this),E.length&&y(this,n+(n?" ":"")+E.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===S)return y(this,"");E=y(this),v(this,t,e,E).split(/\s+/g).forEach(function(t){E=E.replace(u(t)," ")}),y(this,E.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var r=C(this);v(this,t,n,y(this)).split(/\s+/g).forEach(function(t){(e===S?!r.hasClass(t):e)?r.addClass(t):r.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===S?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===S?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),r=B.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(C(t).css("margin-top"))||0,n.left-=parseFloat(C(t).css("margin-left"))||0,r.top+=parseFloat(C(e[0]).css("border-top-width"))||0,r.left+=parseFloat(C(e[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||A.body;t&&!B.test(t.nodeName)&&"static"==C(t).css("position");)t=t.offsetParent;return t})}},C.fn.detach=C.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});C.fn[t]=function(i){var o,a=this[0];return i===S?n(a)?a["inner"+e]:r(a)?a.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){a=C(this),a.css(t,v(this,i,e,a[t]()))})}}),R.forEach(function(e,n){var r=n%2;C.fn[e]=function(){var e,i,o=C.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:Y.fragment(n)}),a=this.length>1;return o.length<1?this:this.each(function(t,e){i=r?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var s=C.contains(A.documentElement,i);o.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!i)return C(t).remove();i.insertBefore(t,e),s&&w(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},C.fn[r?e+"To":"insert"+(n?"Before":"After")]=function(t){return C(t)[e](this),this}}),Y.Z.prototype=C.fn,Y.uniq=k,Y.deserializeValue=b,C.zepto=Y,C}();window.Zepto=n,void 0===window.$&&(window.$=n),function(t){function e(t){return t._zid||(t._zid=f++)}function n(t,n,o,a){if(n=r(n),n.ns)var s=i(n.ns);return(v[e(t)]||[]).filter(function(t){return t&&(!n.e||t.e==n.e)&&(!n.ns||s.test(t.ns))&&(!o||e(t.fn)===e(o))&&(!a||t.sel==a)})}function r(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function i(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t,e){return t.del&&!y&&t.e in b||!!e}function a(t){return w[t]||y&&b[t]||t}function s(n,i,s,l,u,f,p){var h=e(n),g=v[h]||(v[h]=[]);i.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(s);var i=r(e);i.fn=s,i.sel=u,i.e in w&&(s=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return i.fn.apply(this,arguments)}),i.del=f;var h=f||s;i.proxy=function(t){if(t=c(t),!t.isImmediatePropagationStopped()){t.data=l;var e=h.apply(n,t._args==d?[t]:[t].concat(t._args));return!1===e&&(t.preventDefault(),t.stopPropagation()),e}},i.i=g.length,g.push(i),n.events=g,"addEventListener"in n&&n.addEventListener(a(i.e),i.proxy,o(i,p))})}function l(t,r,i,s,l){var c=e(t);(r||"").split(/\s/).forEach(function(e){n(t,e,i,s).forEach(function(e){delete v[c][e.i],"removeEventListener"in t&&t.removeEventListener(a(e.e),e.proxy,o(e,l))})})}function c(e,n){return!n&&e.isDefaultPrevented||(n||(n=e),t.each(E,function(t,r){var i=n[t];e[t]=function(){return this[r]=S,i&&i.apply(n,arguments)},e[r]=x}),(n.defaultPrevented!==d?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=S)),e}function u(t){var e,n={originalEvent:t};for(e in t)C.test(e)||t[e]===d||(n[e]=t[e]);return c(n,t)}var d,f=1,p=Array.prototype.slice,h=t.isFunction,g=function(t){return"string"==typeof t},v={},m={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};m.click=m.mousedown=m.mouseup=m.mousemove="MouseEvents",t.event={add:s,remove:l},t.proxy=function(n,r){var i=2 in arguments&&p.call(arguments,2);if(h(n)){var o=function(){return n.apply(r,i?i.concat(p.call(arguments)):arguments)};return o._zid=e(n),o}if(g(r))return i?(i.unshift(n[r],n),t.proxy.apply(null,i)):t.proxy(n[r],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var S=function(){return!0},x=function(){return!1},C=/^([A-Z]|returnValue$|layer[XY]$)/,E={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,r,i,o){var a,c,f=this;return e&&!g(e)?(t.each(e,function(t,e){f.on(t,n,r,e,o)}),f):(g(n)||h(i)||!1===i||(i=r,r=n,n=d),(h(r)||!1===r)&&(i=r,r=d),!1===i&&(i=x),f.each(function(d,f){o&&(a=function(t){return l(f,t.type,i),i.apply(this,arguments)}),n&&(c=function(e){var r,o=t(e.target).closest(n,f).get(0);if(o&&o!==f)return r=t.extend(u(e),{currentTarget:o,liveFired:f}),(a||i).apply(o,[r].concat(p.call(arguments,1)))}),s(f,e,i,r,n,c||a)}))},t.fn.off=function(e,n,r){var i=this;return e&&!g(e)?(t.each(e,function(t,e){i.off(t,n,e)}),i):(g(n)||h(r)||!1===r||(r=n,n=d),!1===r&&(r=x),i.each(function(){l(this,e,r,n)}))},t.fn.trigger=function(e,n){return e=g(e)||t.isPlainObject(e)?t.Event(e):c(e),e._args=n,this.each(function(){e.type in b&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,r){var i,o;return this.each(function(a,s){i=u(g(e)?t.Event(e):e),i._args=r,i.target=s,t.each(n(s,e.type||e),function(t,e){if(o=e.proxy(i),i.isImmediatePropagationStopped())return!1})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){g(t)||(e=t,t=e.type);var n=document.createEvent(m[t]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:n[i]=e[i];return n.initEvent(t,r,!0),c(n)}}(n),function(t){function e(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.isDefaultPrevented()}function n(t,n,r,i){if(t.global)return e(n||y,r,i)}function r(e){e.global&&0==t.active++&&n(e,null,"ajaxStart")}function i(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(t,e){var r=e.context;if(!1===e.beforeSend.call(r,t,e)||!1===n(e,r,"ajaxBeforeSend",[t,e]))return!1;n(e,r,"ajaxSend",[t,e])}function a(t,e,r,i){var o=r.context,a="success";r.success.call(o,t,a,e),i&&i.resolveWith(o,[t,a,e]),n(r,o,"ajaxSuccess",[e,r,t]),l(a,e,r)}function s(t,e,r,i,o){var a=i.context;i.error.call(a,r,e,t),o&&o.rejectWith(a,[r,e,t]),n(i,a,"ajaxError",[r,i,t||e]),l(e,r,i)}function l(t,e,r){var o=r.context;r.complete.call(o,e,t),n(r,o,"ajaxComplete",[e,r]),i(r)}function c(){}function u(t){return t&&(t=t.split(";",2)[0]),t&&(t==C?"html":t==x?"json":w.test(t)?"script":S.test(t)&&"xml")||"text"}function d(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function f(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=d(e.url,e.data),e.data=void 0)}function p(e,n,r,i){return t.isFunction(n)&&(i=r,r=n,n=void 0),t.isFunction(r)||(i=r,r=void 0),{url:e,data:n,success:r,dataType:i}}function h(e,n,r,i){var o,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,l){o=t.type(l),i&&(n=r?i:i+"["+(s||"object"==o||"array"==o?n:"")+"]"),!i&&a?e.add(l.name,l.value):"array"==o||!r&&"object"==o?h(e,l,r,n):e.add(n,l)})}var g,v,m=0,y=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,S=/^(?:text|application)\/xml/i,x="application/json",C="text/html",E=/^\s*$/,T=y.createElement("a");T.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var r,i,l=e.jsonpCallback,c=(t.isFunction(l)?l():l)||"jsonp"+ ++m,u=y.createElement("script"),d=window[c],f=function(e){t(u).triggerHandler("error",e||"abort")},p={abort:f};return n&&n.promise(p),t(u).on("load error",function(o,l){clearTimeout(i),t(u).off().remove(),"error"!=o.type&&r?a(r[0],p,e,n):s(null,l||"error",p,e,n),window[c]=d,r&&t.isFunction(d)&&d(r[0]),d=r=void 0}),!1===o(p,e)?(f("abort"),p):(window[c]=function(){r=arguments},u.src=e.url.replace(/\?(.+)=\?/,"?$1="+c),y.head.appendChild(u),e.timeout>0&&(i=setTimeout(function(){f("timeout")},e.timeout)),p)},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:x,xml:"application/xml, text/xml",html:C,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n,i=t.extend({},e||{}),l=t.Deferred&&t.Deferred();for(g in t.ajaxSettings)void 0===i[g]&&(i[g]=t.ajaxSettings[g]);r(i),i.crossDomain||(n=y.createElement("a"),n.href=i.url,n.href=n.href,i.crossDomain=T.protocol+"//"+T.host!=n.protocol+"//"+n.host),i.url||(i.url=window.location.toString()),f(i);var p=i.dataType,h=/\?.+=\?/.test(i.url);if(h&&(p="jsonp"),!1!==i.cache&&(e&&!0===e.cache||"script"!=p&&"jsonp"!=p)||(i.url=d(i.url,"_="+Date.now())),"jsonp"==p)return h||(i.url=d(i.url,i.jsonp?i.jsonp+"=?":!1===i.jsonp?"":"callback=?")),t.ajaxJSONP(i,l);var m,b=i.accepts[p],w={},S=function(t,e){w[t.toLowerCase()]=[t,e]},x=/^([\w-]+:)\/\//.test(i.url)?RegExp.$1:window.location.protocol,C=i.xhr(),k=C.setRequestHeader;if(l&&l.promise(C),i.crossDomain||S("X-Requested-With","XMLHttpRequest"),S("Accept",b||"*/*"),(b=i.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),C.overrideMimeType&&C.overrideMimeType(b)),(i.contentType||!1!==i.contentType&&i.data&&"GET"!=i.type.toUpperCase())&&S("Content-Type",i.contentType||"application/x-www-form-urlencoded"),i.headers)for(v in i.headers)S(v,i.headers[v]);if(C.setRequestHeader=S,C.onreadystatechange=function(){if(4==C.readyState){C.onreadystatechange=c,clearTimeout(m);var e,n=!1;if(C.status>=200&&C.status<300||304==C.status||0==C.status&&"file:"==x){p=p||u(i.mimeType||C.getResponseHeader("content-type")),e=C.responseText;try{"script"==p?(0,eval)(e):"xml"==p?e=C.responseXML:"json"==p&&(e=E.test(e)?null:t.parseJSON(e))}catch(t){n=t}n?s(n,"parsererror",C,i,l):a(e,C,i,l)}else s(C.statusText||null,C.status?"error":"abort",C,i,l)}},!1===o(C,i))return C.abort(),s(null,"abort",C,i,l),C;if(i.xhrFields)for(v in i.xhrFields)C[v]=i.xhrFields[v];var I=!("async"in i)||i.async;C.open(i.type,i.url,I,i.username,i.password);for(v in w)k.apply(C,w[v]);return i.timeout>0&&(m=setTimeout(function(){C.onreadystatechange=c,C.abort(),s(null,"timeout",C,i,l)},i.timeout)),C.send(i.data?i.data:null),C},t.get=function(){return t.ajax(p.apply(null,arguments))},t.post=function(){var e=p.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=p.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var i,o=this,a=e.split(/\s/),s=p(e,n,r),l=s.success;return a.length>1&&(s.url=a[0],i=a[1]),s.success=function(e){o.html(i?t("<div>").html(e.replace(b,"")).find(i):e),l&&l.apply(o,arguments)},t.ajax(s),this};var k=encodeURIComponent;t.param=function(e,n){var r=[];return r.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(k(e)+"="+k(n))},h(r,e,n),r.join("&").replace(/%20/g,"+")}}(n),function(t){t.fn.serializeArray=function(){var e,n,r=[],i=function(t){if(t.forEach)return t.forEach(i);r.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(r,o){n=o.type,e=o.name,e&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&i(t(o).val())}),r},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(n),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,n){return e=e||[],t.extend(e,t.fn),e.selector=n||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t){try{return e(t)}catch(t){return null}}}}(n)},function(t,e,n){var r;void 0!==(r=function(t){var e={},n=window.devicePixelRatio||1;e.prepare=function(t,e,n,r){(r=r||n.main)!==n.main&&n.main.appendChild(r);var i=$(n.main);i.css({top:e.top,left:e.left,right:e.right,bottom:e.bottom}),(e.top||e.bottom)&&(i.css({height:"calc(100% - "+(e.top+e.bottom)+"px)",width:"calc(100% - "+(e.left+e.right)+"px)"}),-1===i.css("height").indexOf("calc")&&(i.css({height:$("body").height()-(e.top+e.bottom),width:$("body").width()+(e.left+e.right)}),$(window).resize(function(){i.css({height:$("body").height()-(e.top+e.bottom),width:$("body").width()+(e.left+e.right)})}))),n.startLoading();var o,a={};if(a.renderData=function(t,e,n){var r=n.main;if($(".page-content",r).hasClass("pull-to-refresh-content")){var i=$("<div></div>").html(t).find(".page-content").html()||t;$(".page-content",r).html(i),n.fire("onrender","",Date.now()+","+o)}else if($(r).attr("data-title-id")&&void 0===n.myGroup){var a=$(t).hasClass("page")?$(t).html():$(t);$(r).html(a),n.fire("onrender","",Date.now()+","+o)}else if(void 0===n.myGroup)$(r).html($(t).children()),n.fire("onrender","",Date.now()+","+o);else{var t=$("<div></div>").html(t).find(".page-content");$(r).html($(t)),n.fire("onrender","",Date.now()+","+o)}},a.url=function(t,e){if("json"===e){var n=(new Date).getTime();t=t.indexOf("?")>0?t+"&&timestamp="+n:t+"?timestamp="+n}return t},a.localStorageData=function(t,e,n){var r=t.main;r.addEventListener("online",function(){location.href=n.url}),r.addEventListener("offline",function(){location.href=n.url});var i=e;e.match(/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2}$/)&&(i=slark.getActiveId()+e);var o=void 0===Blend.project?t.getProject():Blend.project;if(null!==localStorage.getItem("elong"+o+i)){var s=JSON.parse(localStorage.getItem("elong"+o+i));a.jsonHandle(t,n,e,s,"json")}else t.fire("renderfailed"),console.log("offline no cached data!!")},a.jsonHandle=function(t,e,n,r,i){var s,l;void 0===Blend.project?t.getProject():Blend.project;"object"==typeof r?s=r:"string"==typeof r&&(s=window.JSON.parse(r)),n.match(/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2}$/)&&slark.getActiveId(),$(t.main).attr("data-title",s.doctitle),(slark.is_exists(n,"frender")||slark.is_exists(n,"offline"))&&($(t.main).attr("data-title",s.doctitle),$(t.main).attr("data-title-id",n)),t.layerData(s),t.fetchData?t.fire("onrender","",Date.now()+","+o):(l=e.tpl(s),a.renderData(l,i,t))},a.htmlHandle=function(t,e,n){if(-1!==e.indexOf("<html")){var r=e.substring(e.indexOf("<title"),e.indexOf("</title>"));-1!==e.indexOf("<title")&&r&&(document.title=r.replace(/<title[^>]*>/,""),$(t.main).attr("data-title",r.replace(/<title[^>]*>/,""))),t.myGroup&&$(e).find(".page .bar").remove()}e=$(e).find(".page").length>1?$(e).find(".page")[0]:$(e).find(".page"),t.hasState("slidein")?t.once("onshow",function(){a.renderData(e,n,t)}):a.renderData(e,n,t)},a.fetch=function(t,e,n,r){o=Date.now();var i="json"===e?"application/json":"text/html";$.ajax({url:a.url(t.url,e),type:"get",timeout:2e4,headers:{Accept:i+"; charset=utf-8"},dataType:e,contentType:i,success:function(i){"json"===e?a.jsonHandle(n,t,r,i,e):a.htmlHandle(n,i,e)},error:function(i,o,s){if(console.log(e+"renderfailed"),!t.errorHandle||t.errorHandle(i,o,s))return slark.router.getInfoFromId(r)||n.myGroup?void(n.is_offline&&a.localStorageData(n,r,t)):(console.log("jump server"),void(location.href=t.url))},complete:function(t,e){"timeout"==e&&(alert("请检查您的网络，稍后重试"),setTimeout(function(){window.location.reload()},0))}})},e.tpl&&"function"==typeof e.tpl)if((Blend.ui.activeLayer?Blend.ui.activeLayer.attr("data-blend-id"):t)!==t)if($(n.main).attr("data-title-id")||void 0!==n.myGroup)e.withoutData?n.fire("onrender"):a.fetch(e,"json",n,t);else{var r=template(t,{});$(n.main).html($(r).find(".page").children()),n.main.setAttribute("data-title-id",t),n.paint()}else e.withoutData?(n.stopLoading(),n.addState("fetched"),"complete"==document.readyState&&n.fire("onrender")):a.fetch(e,"json",n,t);else a.fetch(e,"html",n,t)},e.resume=function(t){var e;t.myGroup?(console.log("in layer group..."+t.myGroup.index),e=t.myGroup.main):e=document.body.firstElementChild,$("#"+t.main.id).length||e.appendChild(t.main)};var r={};e.startPullRefresh=function(t){var e,n,i=function(){if(e=$(t.main).find(".page-content"),!e.length)return console.log("pull to refresh should has .page-content"),!1;e.addClass("pull-to-refresh-content"),$(".pull-to-refresh-layer",t.main).length||$(".page-content",t.main).before('<div class="pull-to-refresh-layer"> <div class="preloader"></div><div class="pull-to-refresh-arrow"></div><div class="pull-to-refresh-label"></div> </div>'),n=$(".pull-to-refresh-layer",t.main).css("padding-top",e.css("padding-top")),n.css("margin-top",e.position().top)};if(i(),e.length){var o,a,s,l,c,u={},d=!1,f=!1,p=0,h=function(e){e.removeClass("refreshing").addClass("transitioning"),$(".pull-to-refresh-label",n).text(t.loadingText),t.transitionEnd(function(){e.removeClass("transitioning"),n.removeClass("pull-up refreshing")})},g=function(e){t.transitionEnd(function(){e.removeClass("transitioning")})};r.handleTouchStart=function(t){return!o&&(0===e.parent().length&&i(),!e.hasClass("refreshing")&&(a=!1,o=!(e[0].scrollTop>0),s=void 0,u.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,u.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,void(c=(new Date).getTime())))},r.handleTouchMove=function(r){if(!o)return!1;var i="touchmove"===r.type?r.targetTouches[0].pageX:r.pageX,c="touchmove"===r.type?r.targetTouches[0].pageY:r.pageY;if(void 0===s&&(s=!!(s||Math.abs(c-u.y)>Math.abs(i-u.x))),!s)return o=!1,!1;if(a||(e.removeClass("transitioning"),p=n.hasClass("refreshing")?44:0,f=!0),a=!0,(l=c-u.y)<0&&!e[0].style.webkitTransform)return o=!1,!1;if(e.hasClass("refreshing"))r.preventDefault(),e[0].style.webkitTransform=l>0?"translate3d(0,"+(Math.pow(l,.85)+p)+"px,0)":"translate3d(0, -"+(Math.pow(-l,.85)-p)+"px,0)";else{if(!(l>0&&e[0].scrollTop<=0||n.hasClass("pull-up")))return void(d=!1);f&&(r.preventDefault(),e[0].style.webkitTransform="translate3d(0,"+(Math.pow(l,.85)+p)+"px,0)"),f&&Math.pow(l,.85)>44||!f&&l>=88?(d=!0,n.addClass("pull-up"),$(".pull-to-refresh-label",n).text(t.releaseText)):(d=!1,n.removeClass("pull-up"),$(".pull-to-refresh-label",n).text(t.pullText))}},r.handleTouchEnd=function(r){return!e.hasClass("refreshing")&&(o&&a?(e.scrollTop<=5&&e.scrollTop(0),e.addClass("transitioning"),e[0].style.webkitTransform="",d?(n.addClass("refreshing"),e.addClass("refreshing"),$(".pull-to-refresh-label",n).text(t.loadingText),t.fire("layerPullDown"),t.once("layerPullEnd",function(){h(e)})):g(e),o=!1,void(a=!1)):(o=!1,a=!1,!1))},t.on("touchstart",r.handleTouchStart),t.on("touchmove",r.handleTouchMove),t.on("touchend",r.handleTouchEnd)}},e.isRefreshing=function(t){return $(t.main).find(".page-content").hasClass("refreshing")},e.endPullRefresh=function(t){t.fire("layerPullEnd")},e.stopPullRefresh=function(t){$(t.main).removeClass("pull-to-refresh-content"),t.off("touchstart",r.handleTouchStart),t.off("touchmove",r.handleTouchMove),t.off("touchend",r.handleTouchEnd)};var i={};return e.startSwipe=function(t,e){var r,o,a,s,l,c,u,d=!1,f=!1,p={},h=!0;o=$(t.main),e=e||$(".pages"),console.log("startSwipe init ... "+t.id);var g=0;i.handleTouchStart=function(t){if(!h||d)return!1;f=!1,d=!0,r=void 0,p.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,p.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,u=(new Date).getTime()},i.handleTouchMove=function(i){if(!d)return!1;var u="touchmove"===i.type?i.targetTouches[0].pageX:i.pageX,h="touchmove"===i.type?i.targetTouches[0].pageY:i.pageY;if(c=u-p.x,void 0===r&&(r=!!(r||Math.abs(h-p.y)>Math.abs(c))),r)return d=!1,!1;if(!f||f*c<0){f=!1;var v=!1;l=e.width();var m=t.myGroup.getIdByStep(c>0?-1:1);if(console.log("re init layer prvious...",m),a&&(a[0].style.webkitTransform=""),s=t.myGroup.__layers[m],a=$(s.main),m===t.id?v=!0:c>0?a.removeClass("page-on-right").addClass("page-on-left"):a.removeClass("page-on-left").addClass("page-on-right"),g&&Math.abs(p.x-e.offset().left)>g&&(v=!0),0!==a.length&&0!==o.length||(v=!0),v)return d=!1,!1}f=c>0?1:-1,i.preventDefault();var y=Math.abs(c/l);o[0].style.webkitTransform="translate3d("+c+"px,0,0)";var b=c-f*l;1===n&&(b=Math.round(b)),a[0].style.webkitTransform="translate3d("+b+"px,0,0)",a[0].style.opacity=.9+.1*y},i.handleTouchEnd=function(e){if(!d||!f)return d=!1,f=!1,!1;if(d=!1,f=!1,0===c)return $([o[0],a[0]]).css({opacity:"",boxShadow:""}),o[0].style.webkitTransform="",a[0].style.webkitTransform="",!1;var n=Math.abs(c),r=(new Date).getTime()-u,i=!1;(r<300&&n>10||r>=300&&n>l/2)&&(c>0?(o.removeClass("page-on-center page-on-left").addClass("page-on-right"),a.removeClass("page-on-right page-on-left").addClass("page-on-center")):(o.removeClass("page-on-center page-on-right").addClass("page-on-left"),a.removeClass("page-on-right page-on-left").addClass("page-on-center")),i=!0),$([o[0],a[0]]).css({opacity:"",boxShadow:""}).addClass("page-transitioning"),o[0].style.webkitTransform="",a[0].style.webkitTransform="",h=!1,i&&(s.fire("beforeshow"),t.fire("beforehide")),t.transitionEnd(function(){$([o[0],a[0]]).removeClass("page-transitioning"),h=!0,i&&(s.fire("onshow"),t.fire("onhide"))})},t.on("touchstart",i.handleTouchStart),t.on("touchmove",i.handleTouchMove),t.on("touchend",i.handleTouchEnd)},e.endSwipe=function(t){t.off("touchstart",i.handleTouchStart),t.off("touchmove",i.handleTouchMove),t.off("touchend",i.handleTouchEnd)},e.backLayer=function(t){blend.get(t).out()},e}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r,i;r=[n(0),n(20),n(42)],void 0!==(i=function(t,e){e.attach(document.body);var n=$("html");!function(){var t=navigator.userAgent,e=t.match(/(Android);?[\s\/]+([\d.]+)?/),r=!t.match(/Mobile/),i=t.match(/(iPad).*OS\s([\d_]+)/),o=t.match(/(iPod)(.*OS\s([\d_]+))?/),a=!i&&t.match(/(iPhone\sOS)\s([\d_]+)/);window.scrollTo(0,1),e&&n.addClass("android"+(r?" pad":"")),(i||a||o)&&n.addClass("ios"),(a||o)&&n.addClass("iphone"),i&&n.addClass("ipad");var s=!1,l="undefined"!=typeof devicePixelRatio&&devicePixelRatio>1?devicePixelRatio:1,c=screen.width/document.body.clientWidth!=1&&screen.height/document.body.clientHeight!=1,u=c?screen.width/l:screen.width,d=c?screen.height/l:screen.height;(s=u>=600&&d>=600)&&n.addClass("pad")}(),n.hasClass("android")&&$(".pages").addClass("page-fade"),t.isLowDevice&&n.addClass("low-device"),t.isPad=n.hasClass("pad")||n.hasClass("ipad")}.apply(e,r))&&(t.exports=i)},,,function(t,e,n){var r;void 0!==(r=function(t){var e=n(1),r=n(10),i=n(3),o=n(5),a=!1,s=n(29),l=function(t){return r.call(this,t),this._init(t),this};return e.inherits(l,r),l.prototype.onload=l.prototype.beforeshow=l.prototype.beforehide=e.noop,l.prototype.constructor=l,l.prototype.top=0,l.prototype.bottom=0,l.prototype.left=0,l.prototype.right=0,l.prototype.pullText="下拉刷新...",l.prototype.loadingText="加载中...",l.prototype.releaseText="释放刷新...",l.prototype.controllerData=null,l.prototype._init=function(t){var e=this;return $(this.main).addClass("page"),t.title&&$(this.main).attr("data-title",t.title),o.resume(this),t.main&&void 0===t.myGroup?(this.addState("got"),i.ready(function(){var n=$(t.main).data("blend-id"),r=Blend.ui.get(t.id),i=void 0===Blend.ui.project?e.getProject():Blend.ui.project,o=t.is_frender||null!==localStorage.getItem("elong"+i+n)&&t.is_offline;if(r.tpl&&"function"==typeof r.tpl&&o){if(t.is_offline){var a=template(n,{});$(".page[data-blend-id="+n+"]").html("").append($(a).find(".page").children())}else e.fetchData=!0;r.main.setAttribute("data-title-id",n),e._initEvent(),r.withoutData?r.hasState("fetched")&&r.fire("onrender"):(r.startLoading(),r.paint())}else"html"===r.tpl?($(r.main).attr("data-title",document.title),$(r.main).attr("data-title-id",n),e._initEvent(),t.is_hash?e.paint():e.fire("onrender")):console.log("front render no template")})):e._initEvent(),this.url?this.autoload&&this.render():console.log("###No url for render###"),this.once("onrender",function(){e.ptrFn&&(e.pullToRefresh=!0),e.pullToRefresh&&(e.on("layerPullDown",function(t){e.ptrFn&&e.ptrFn(t)}),o.startPullRefresh(e))}),t.active&&e.in(),void 0!==t.index&&this.main.setAttribute("data-blend-index",t.index),this},l.prototype.getProject=function(){var t=location.pathname.split("/");return"3000"===location.port?Blend.ui.project?Blend.ui.project:t[2]:Blend.ui.project?Blend.ui.project:t[1]},l.prototype.layerData=function(t){var e=this,n=this.getProject();if("string"==typeof t&&(t=JSON.parse(t)),"object"==typeof t.controller&&(e.controllerData=t.controller),void 0!==e.myGroup&&e.is_offline){var r=slark.getActiveId();localStorage["elong"+n+r+e.id]=JSON.stringify(t)}else e.is_offline&&(localStorage["elong"+n+e.id]=JSON.stringify(t))},l.prototype._initEvent=function(){var t=this;"none"===this.layerAnimate?a=!0:this.layerAnimate&&$(this.main).addClass(this.layerAnimate),t.on("out",t.beforehide),t.on("onrender",function(e){var n=void 0!==e.originalEvent?e.originalEvent.detail:e.detail,r=Blend.ui.get(n).main;s.runScript(r,n),t.stopLoading(),t.removeState("get"),t.addState("got")}),t.on("renderfailed",function(e){t.stopLoading(),t.removeState("get")}),t.on("onshow",function(e){t.render(),t.myGroup&&i.layerStack.pop(),t.myGroup?t.myGroup.activeId=e.detail:i.layerStack.push(i.activeLayer)}),
//! FIXME SHOULD BE destroy
t.on("beforedestroy",function(e){t.pullToRefresh&&(o.stopPullRefresh(t),t.on("layerPullDown",t.ptrFn))})},l.prototype.type="layer",l.prototype.loadingTime=500,l.prototype.paint=function(){var t=this;if(""!==t.url&&void 0!==t.url)return o.prepare(t.id,{url:t.url,top:t.top,left:t.left,bottom:t.bottom,right:t.right,tpl:t.tpl,withoutData:t.withoutData,errorHandle:t.errorHandle,pullToRefresh:t.pullToRefresh},t),this},l.prototype.in=function(t){if(this.isActive())return void console.log("layer is already activity ");if(this.hasState("slidein"))return console.log("this layer is sliding in."),void this.removeState("slidein");if(t&&t.url){var e=t.url,n=location.host,r=(e.indexOf("#"),e.indexOf(n));r>=0&&(e=e.substring(r+n.length)),t.url=e}t&&(t.url&&decodeURI(t.url)!==decodeURI(this.url)||t.force)&&(console.log("layer url changed to..."+t.url),this.setUrl(t.url),this.removeState("got"),this.main.innerHTML=""),this.render();var o=this;this.addState("slidein");var s=!1;this.myGroup&&this.myGroup.isActive()&&this.myGroup.idtoindex(this.myGroup.activeId)>this.index&&(s=!0);var l,c,u,d;if(l=$(this.main),c=this,this.myGroup){var f=this.myGroup;this.myGroup.isActive()||(l=$(f.main),c=f),f.activeId===c.id?(console.log("group.activeId is already activity,no need to slide out "+f.activeId),u=$()):(u=$(f.__layers[f.activeId].main),d=f.__layers[f.activeId])}else u=i.activeLayer,d=i.get(u.attr("data-blend-id"));!this.myGroup||this.myGroup.isActive()||(l=$(this.myGroup.main),c=this.myGroup,c.activeId!==this.id&&($(c.__layers[c.activeId].main).addClass("page-on-right").removeClass("page-on-center"),$(c.__layers[this.id].main).removeClass("page-on-right").addClass("page-on-center"))),t&&t.reverse?s=!s:this.lindex&&this.lindex&&d.lindex&&d.lindex>this.lindex&&(s=!s),this.myGroup&&u.parent().hasClass("layerGroup")||this.isSubLayer()&&(u=$());var p,h;s?(p="right",h="left"):(p="left",h="right"),a?(l.removeClass("page-on-left page-on-right").addClass("page-on-center"),u.removeClass("page-on-center").addClass("page-on-"+p)):(u.removeClass("page-on-center").addClass("page-from-center-to-"+p),l.removeClass("page-on-right").removeClass("page-on-left").addClass("page-from-"+h+"-to-center")),o.fire("beforeshow"),d&&d.fire("beforehide");var g=function(){o.removeState("slidein"),o.fire("onshow"),d&&d.fire("onhide")};return a?g():c.animationEnd(function(){u.removeClass(function(t,e){return(e.match(/\bpage-from\S+/g)||[]).join(" ")}),l.removeClass(function(t,e){return(e.match(/\bpage-from\S+/g)||[]).join(" ")});var t;t=o.myGroup?$(o.myGroup.__layers[o.myGroup.activeId].main):i.activeLayer,t.attr("data-blend-id")!==u.attr("data-blend-id")&&u.addClass("page-on-"+p),t.attr("data-blend-id")===l.attr("data-blend-id")&&l.addClass("page-on-center"),g()}),this.myGroup?o.myGroup.activeId=this.id:i.activeLayer=$(o.main),this},l.prototype.out=function(t){var e=this;if(!this.isActive())return void console.log("layer is already inactivity ");this.isRefreshing()&&this.endPullRefresh();var n=i.layerStack.length>1?i.layerStack[i.layerStack.length-2]:$(".page-on-left"),r=$(e.main),o=n,s=i.get(o.attr("data-blend-id")),l=Blend.ui.get(o.attr("data-blend-id"));l&&l.addState("slidein"),this.myGroup&&r.parent().hasClass("layerGroup")||this.isSubLayer()&&(o=$()),a?(o.removeClass("page-on-left").addClass("page-on-center"),r.removeClass("page-on-center").addClass("page-on-right")):(o.removeClass("page-on-left").addClass("page-from-left-to-center"),r.removeClass("page-on-center").addClass("page-from-center-to-right")),e.fire("beforehide"),s&&s.fire("beforeshow");var c=function(){e.fire("onhide"),s&&s.fire("onshow"),i.activeLayer=n,l&&l.removeState("slidein")};return e.myGroup||i.layerStack.pop(),a?c():this.animationEnd(function(){c(),n.removeClass("page-from-left-to-center").addClass("page-on-center"),r.removeClass("page-from-center-to-right").addClass("page-on-right")}),this},l.prototype.reload=function(t,e){var n={url:t,onsuccess:this.onsuccess,onfail:this.onfail,top:this.top,left:this.left,right:this.right,bottom:this.bottom};return this.isRender(!1),o.prepare(this.id,n,this),"function"==typeof e&&this.once("onrender",e),this},l.prototype.isSubLayer=function(){return!(!this.sublayer&&!this.myGroup)},l.prototype.isRefreshing=function(t){return o.isRefreshing(t||this)},l.prototype.stopPullRefresh=function(t){return o.stopPullRefresh(t||this),this},l.prototype.endPullRefresh=function(t){return o.endPullRefresh(t||this),this},l.prototype.destroy=function(){r.prototype.destroy.apply(this,arguments)},l.prototype.replace=function(t){return me.url=t,this},l.prototype.startLoading=function(){$(".preloader-indicator-overlay",this.main).length||$(this.main).append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"></div>');var t=$("html");return t.hasClass("android")&&t.css("overflow","hidden"),this},l.prototype.stopLoading=function(){$(".preloader-indicator-overlay",this.main).remove(),$(".preloader-indicator-modal",this.main).remove();var t=$("html");return t.hasClass("android")&&t.css("overflow",""),this},l.prototype.getUrl=function(){return this.url},l.prototype.canGoBack=function(){return i.canGoBack()},l.prototype.clearHistory=function(){console.error("web cant clearHistory")},l.prototype.isActive=function(){return $(this.main).hasClass("page-on-center")},l}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){function e(t){i.apply(this,arguments)}var r=(n(3),n(1)),i=n(47),o=n(11);return e.prototype.type="layout",e.prototype.on=o.on,e.prototype.once=o.once,e.prototype.off=o.off,e.prototype.fire=o.fire,e.prototype.isRender=function(t){if(void 0===t)return!!this.isRendered&&this.isRendered;this.isRendered=t},e.prototype.animationEnd=function(t){function e(o){for(t(o),n=0;n<r.length;n++)i.off(r[n],e)}var n,r=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],i=this;if(t)for(n=0;n<r.length;n++)i.on(r[n],e);return this},e.prototype.transitionEnd=function(t){function e(o){for(t(o),n=0;n<r.length;n++)i.off(r[n],e)}var n,r=["webkitTransitionEnd"],i=this;if(t)for(n=0;n<r.length;n++)i.on(r[n],e);return this},r.inherits(e,i),e}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){var e={},n=["layerCreateSuccess","layerLoadFinish","layerPullDown","layerPoped","tap","slide","menuPressed","layerGoBack","backPressedBeforeExit"],r=function(t,e){for(var n in t)if(t[n]==search)return!0;return!1};return e.on=function(t,e,i,o){void 0===o&&(o=i||this.id?Blend.ui.get(i||this.id).main:r(n,t)?Blend.ui.activeLayer[0]:document),"function"==typeof e&&o.addEventListener(t,e)},e.once=function(t,e,n,r){if(void 0===r&&(r=n||this.id?Blend.ui.get(n||this.id).main:document),"function"==typeof e)if("onrender"===t&&this&&this.isRender&&this.isRender())e.apply(r,arguments);else{var i=function(){e.apply(r,arguments),r.removeEventListener(t,i)};r.addEventListener(t,i)}},e.off=function(t,e,n,r){void 0===r&&(r=Blend.ui.get(n||this.id).main),"function"==typeof e&&r.removeEventListener(t,e)},e.fire=function(t,e,n,r,i){try{var o;e||(e=this.id),void 0===e&&(i=document),void 0===i&&void 0!==e&&(i=Blend.ui.get(e).main);var a={bubbles:!0,cancelable:!0,detail:e};
//! !注意 这里的fire 可能在webcontrol里面，也可能在blend.fire 直接触发，所以，不一定有this 方法，
if("function"==typeof CustomEvent?o=new CustomEvent(t,a):(o=document.createEvent("Events"),o.initEvent(t,a.bubbles,a.cancelable,a.detail),o.detail=a.detail),void 0!==n&&(o.data1=n),"function"==typeof r&&r(o),void 0!==e){var s=Blend.ui.get(e)[t];"function"==typeof s&&s.call(this,o)}i&&i.dispatchEvent(o),console.log(o.type,o.detail,o.data1)}catch(t){console.warn("Events fire errors.please check the runtime environment.",t.stack)}},e}.call(e,n,e,t))&&(t.exports=r)},,,function(t,e,n){var r,i;r=[n(4)],void 0!==(i=function(){"undefined"!=typeof History&&void 0!==History.Adapter||(function(t,e){"use strict";var n=t.History=t.History||{},r=t.Zepto;if(void 0!==n.Adapter)throw new Error("History.js Adapter has already been loaded...");n.Adapter={bind:function(t,e,n){new r(t).bind(e,n)},trigger:function(t,e){new r(t).trigger(e)},extractEventData:function(t,n){return n&&n[t]||e},onDomLoad:function(t){new r(t)}},void 0!==n.init&&n.init()}(window),/**
 * History.js Core
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(t,e){"use strict";var n=t.console||e,r=t.document,i=t.navigator,o=!1,a=t.setTimeout,s=t.clearTimeout,l=t.setInterval,c=t.clearInterval,u=t.JSON,d=t.alert,f=t.History=t.History||{},p=t.history;try{o=t.sessionStorage,o.setItem("TEST","1"),o.removeItem("TEST")}catch(t){o=!1}if(u.stringify=u.stringify||u.encode,u.parse=u.parse||u.decode,void 0!==f.init)throw new Error("History.js Core has already been loaded...");f.init=function(t){return void 0!==f.Adapter&&(void 0!==f.initCore&&f.initCore(),void 0!==f.initHtml4&&f.initHtml4(),!0)},f.initCore=function(h){if(void 0!==f.initCore.initialized)return!1;if(f.initCore.initialized=!0,f.options=f.options||{},f.options.hashChangeInterval=f.options.hashChangeInterval||100,f.options.safariPollInterval=f.options.safariPollInterval||500,f.options.doubleCheckInterval=f.options.doubleCheckInterval||500,f.options.disableSuid=f.options.disableSuid||!1,f.options.storeInterval=f.options.storeInterval||1e3,f.options.busyDelay=f.options.busyDelay||250,f.options.debug=f.options.debug||!1,f.options.initialTitle=f.options.initialTitle||r.title,f.options.html4Mode=f.options.html4Mode||!1,f.options.delayInit=f.options.delayInit||!1,f.intervalList=[],f.clearAllIntervals=function(){var t,e=f.intervalList;if(void 0!==e&&null!==e){for(t=0;t<e.length;t++)c(e[t]);f.intervalList=null}},f.debug=function(){f.options.debug&&f.log.apply(f,arguments)},f.log=function(){var t,e,i,o,a,s=!(void 0===n||void 0===n.log||void 0===n.log.apply),l=r.getElementById("log");for(s?(o=Array.prototype.slice.call(arguments),t=o.shift(),void 0!==n.debug?n.debug.apply(n,[t,o]):n.log.apply(n,[t,o])):t="\n"+arguments[0]+"\n",e=1,i=arguments.length;e<i;++e){if("object"==typeof(a=arguments[e])&&void 0!==u)try{a=u.stringify(a)}catch(t){}t+="\n"+a+"\n"}return l?(l.value+=t+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):s||d(t),!0},/**
		 * History.getInternetExplorerMajorVersion()
		 * Get's the major version of Internet Explorer
		 * @return {integer}
		 * @license Public Domain
		 * @author Benjamin Arthur Lupton <contact@balupton.com>
		 * @author James Padolsey <https://gist.github.com/527683>
		 */
f.getInternetExplorerMajorVersion=function(){return f.getInternetExplorerMajorVersion.cached=void 0!==f.getInternetExplorerMajorVersion.cached?f.getInternetExplorerMajorVersion.cached:function(){for(var t=3,e=r.createElement("div"),n=e.getElementsByTagName("i");(e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e")&&n[0];);return t>4&&t}()},/**
		 * History.isInternetExplorer()
		 * Are we using Internet Explorer?
		 * @return {boolean}
		 * @license Public Domain
		 * @author Benjamin Arthur Lupton <contact@balupton.com>
		 */
f.isInternetExplorer=function(){return f.isInternetExplorer.cached=void 0!==f.isInternetExplorer.cached?f.isInternetExplorer.cached:Boolean(f.getInternetExplorerMajorVersion())},f.options.html4Mode?f.emulated={pushState:!0,hashChange:!0}:f.emulated={pushState:!Boolean(t.history&&t.history.pushState&&t.history.replaceState),hashChange:Boolean(!("onhashchange"in t||"onhashchange"in r)||f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<8)},f.enabled=!f.emulated.pushState,f.bugs={setHash:Boolean(!f.emulated.pushState&&"Apple Computer, Inc."===i.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),safariPoll:Boolean(!f.emulated.pushState&&"Apple Computer, Inc."===i.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),ieDoubleCheck:Boolean(f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(f.isInternetExplorer()&&f.getInternetExplorerMajorVersion()<7)},f.isEmptyObject=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},f.cloneObject=function(t){var e,n;return t?(e=u.stringify(t),n=u.parse(e)):n={},n},f.getRootUrl=function(){var t=r.location.protocol+"//"+(r.location.hostname||r.location.host);return r.location.port&&(t+=":"+r.location.port),t+="/"},f.getBaseHref=function(){var t=r.getElementsByTagName("base"),e=null,n="";return 1===t.length&&(e=t[0],n=e.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},f.getBaseUrl=function(){return f.getBaseHref()||f.getBasePageUrl()||f.getRootUrl()},f.getPageUrl=function(){var t=f.getState(!1,!1),e=(t||{}).url||f.getLocationHref();return e.replace(/\/+$/,"").replace(/[^\/]+$/,function(t,e,n){return/\./.test(t)?t:t+"/"})},f.getBasePageUrl=function(){return f.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(t,e,n){return/[^\/]$/.test(t)?"":t}).replace(/\/+$/,"")+"/"},f.getFullUrl=function(t,e){var n=t,r=t.substring(0,1);return e=void 0===e||e,/[a-z]+\:\/\//.test(t)||(n="/"===r?f.getRootUrl()+t.replace(/^\/+/,""):"#"===r?f.getPageUrl().replace(/#.*/,"")+t:"?"===r?f.getPageUrl().replace(/[\?#].*/,"")+t:e?f.getBaseUrl()+t.replace(/^(\.\/)+/,""):f.getBasePageUrl()+t.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},f.getShortUrl=function(t){var e=t,n=f.getBaseUrl(),r=f.getRootUrl();return f.emulated.pushState&&(e=e.replace(n,"")),e=e.replace(r,"/"),f.isTraditionalAnchor(e)&&(e="./"+e),e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},f.getLocationHref=function(t){return t=t||r,t.URL===t.location.href?t.location.href:t.location.href===decodeURIComponent(t.URL)?t.URL:t.location.hash&&decodeURIComponent(t.location.href.replace(/^[^#]+/,""))===t.location.hash?t.location.href:-1==t.URL.indexOf("#")&&-1!=t.location.href.indexOf("#")?t.location.href:t.URL||t.location.href},f.store={},f.idToState=f.idToState||{},f.stateToId=f.stateToId||{},f.urlToId=f.urlToId||{},f.storedStates=f.storedStates||[],f.savedStates=f.savedStates||[],f.normalizeStore=function(){f.store.idToState=f.store.idToState||{},f.store.urlToId=f.store.urlToId||{},f.store.stateToId=f.store.stateToId||{}},f.getState=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var n=f.getLastSavedState();return!n&&e&&(n=f.createStateObject()),t&&(n=f.cloneObject(n),n.url=n.cleanUrl||n.url),n},f.getIdByState=function(t){var e,n=f.extractId(t.url);if(!n)if(e=f.getStateString(t),void 0!==f.stateToId[e])n=f.stateToId[e];else if(void 0!==f.store.stateToId[e])n=f.store.stateToId[e];else{for(;;)if(n=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),void 0===f.idToState[n]&&void 0===f.store.idToState[n])break;f.stateToId[e]=n,f.idToState[n]=t}return n},f.normalizeState=function(t){var e,n;return t&&"object"==typeof t||(t={}),void 0!==t.normalized?t:(t.data&&"object"==typeof t.data||(t.data={}),e={},e.normalized=!0,e.title=t.title||"",e.url=f.getFullUrl(t.url?t.url:f.getLocationHref()),e.hash=f.getShortUrl(e.url),e.data=f.cloneObject(t.data),e.id=f.getIdByState(e),e.cleanUrl=e.url.replace(/\??\&_suid.*/,""),e.url=e.cleanUrl,n=!f.isEmptyObject(e.data),(e.title||n)&&!0!==f.options.disableSuid&&(e.hash=f.getShortUrl(e.url).replace(/\??\&_suid.*/,""),/\?/.test(e.hash)||(e.hash+="?"),e.hash+="&_suid="+e.id),e.hashedUrl=f.getFullUrl(e.hash),(f.emulated.pushState||f.bugs.safariPoll)&&f.hasUrlDuplicate(e)&&(e.url=e.hashedUrl),e)},f.createStateObject=function(t,e,n){var r={data:t,title:e,url:n};return r=f.normalizeState(r)},f.getStateById=function(t){return t=String(t),f.idToState[t]||f.store.idToState[t]||e},f.getStateString=function(t){var e,n;return e=f.normalizeState(t),n={data:e.data,title:t.title,url:t.url},u.stringify(n)},f.getStateId=function(t){var e;return e=f.normalizeState(t),e.id},f.getHashByState=function(t){var e;return e=f.normalizeState(t),e.hash},f.extractId=function(t){var e,n;return n=-1!=t.indexOf("#")?t.split("#")[0]:t,e=/(.*)\&_suid=([0-9]+)$/.exec(n),e?e[1]||t:t,(e?String(e[2]||""):"")||!1},f.isTraditionalAnchor=function(t){return!/[\/\?\.]/.test(t)},f.extractState=function(t,e){var n,r,i=null;return e=e||!1,n=f.extractId(t),n&&(i=f.getStateById(n)),i||(r=f.getFullUrl(t),n=f.getIdByUrl(r)||!1,n&&(i=f.getStateById(n)),i||!e||f.isTraditionalAnchor(t)||(i=f.createStateObject(null,null,r))),i},f.getIdByUrl=function(t){return f.urlToId[t]||f.store.urlToId[t]||e},f.getLastSavedState=function(){return f.savedStates[f.savedStates.length-1]||e},f.getLastStoredState=function(){return f.storedStates[f.storedStates.length-1]||e},f.hasUrlDuplicate=function(t){var e;return e=f.extractState(t.url),e&&e.id!==t.id},f.storeState=function(t){return f.urlToId[t.url]=t.id,f.storedStates.push(f.cloneObject(t)),t},f.isLastSavedState=function(t){var e,n,r,i=!1;return f.savedStates.length&&(e=t.id,n=f.getLastSavedState(),r=n.id,i=e===r),i},f.saveState=function(t){return!f.isLastSavedState(t)&&(f.savedStates.push(f.cloneObject(t)),!0)},f.getStateByIndex=function(t){return void 0===t?f.savedStates[f.savedStates.length-1]:t<0?f.savedStates[f.savedStates.length+t]:f.savedStates[t]},f.getCurrentIndex=function(){return f.savedStates.length<1?0:f.savedStates.length-1},f.getHash=function(t){var e=f.getLocationHref(t);return f.getHashByUrl(e)},f.unescapeHash=function(t){var e=f.normalizeHash(t);return e=decodeURIComponent(e)},f.normalizeHash=function(t){return t.replace(/[^#]*#/,"").replace(/#.*/,"")},f.setHash=function(t,e){var n,i;return!1!==e&&f.busy()?(f.pushQueue({scope:f,callback:f.setHash,args:arguments,queue:e}),!1):(f.busy(!0),n=f.extractState(t,!0),n&&!f.emulated.pushState?f.pushState(n.data,n.title,n.url,!1):f.getHash()!==t&&(f.bugs.setHash?(i=f.getPageUrl(),f.pushState(null,null,i+"#"+t,!1)):r.location.hash=t),f)},f.escapeHash=function(e){var n=f.normalizeHash(e);return n=t.encodeURIComponent(n),f.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},f.getHashByUrl=function(t){var e=String(t).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return e=f.unescapeHash(e)},f.setTitle=function(t){var e,n=t.title;n||(e=f.getStateByIndex(0))&&e.url===t.url&&(n=e.title||f.options.initialTitle);try{r.getElementsByTagName("title")[0].innerHTML=n.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(t){}return r.title=n,f},f.queues=[],f.busy=function(t){if(void 0!==t?f.busy.flag=t:void 0===f.busy.flag&&(f.busy.flag=!1),!f.busy.flag){s(f.busy.timeout);var e=function(){var t,n,r;if(!f.busy.flag)for(t=f.queues.length-1;t>=0;--t)n=f.queues[t],0!==n.length&&(r=n.shift(),f.fireQueueItem(r),f.busy.timeout=a(e,f.options.busyDelay))};f.busy.timeout=a(e,f.options.busyDelay)}return f.busy.flag},f.busy.flag=!1,f.fireQueueItem=function(t){return t.callback.apply(t.scope||f,t.args||[])},f.pushQueue=function(t){return f.queues[t.queue||0]=f.queues[t.queue||0]||[],f.queues[t.queue||0].push(t),f},f.queue=function(t,e){return"function"==typeof t&&(t={callback:t}),void 0!==e&&(t.queue=e),f.busy()?f.pushQueue(t):f.fireQueueItem(t),f},f.clearQueue=function(){return f.busy.flag=!1,f.queues=[],f},f.stateChanged=!1,f.doubleChecker=!1,f.doubleCheckComplete=function(){return f.stateChanged=!0,f.doubleCheckClear(),f},f.doubleCheckClear=function(){return f.doubleChecker&&(s(f.doubleChecker),f.doubleChecker=!1),f},f.doubleCheck=function(t){return f.stateChanged=!1,f.doubleCheckClear(),f.bugs.ieDoubleCheck&&(f.doubleChecker=a(function(){return f.doubleCheckClear(),f.stateChanged||t(),!0},f.options.doubleCheckInterval)),f},f.safariStatePoll=function(){var e,n=f.extractState(f.getLocationHref());if(!f.isLastSavedState(n))return e=n,e||(e=f.createStateObject()),f.Adapter.trigger(t,"popstate"),f},f.back=function(t){return!1!==t&&f.busy()?(f.pushQueue({scope:f,callback:f.back,args:arguments,queue:t}),!1):(f.busy(!0),f.doubleCheck(function(){f.back(!1)}),p.go(-1),!0)},f.forward=function(t){return!1!==t&&f.busy()?(f.pushQueue({scope:f,callback:f.forward,args:arguments,queue:t}),!1):(f.busy(!0),f.doubleCheck(function(){f.forward(!1)}),p.go(1),!0)},f.go=function(t,e){var n;if(t>0)for(n=1;n<=t;++n)f.forward(e);else{if(!(t<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=t;--n)f.back(e)}return f},f.emulated.pushState){var g=function(){};f.pushState=f.pushState||g,f.replaceState=f.replaceState||g}else f.onPopState=function(e,n){var r=!1,i=!1;return f.doubleCheckComplete(),f.getHash(),r=f.Adapter.extractEventData("state",e,n)||!1,i=r?f.getStateById(r):f.expectedStateId?f.getStateById(f.expectedStateId):f.extractState(f.getLocationHref()),i||(i=f.createStateObject(null,null,f.getLocationHref())),f.expectedStateId=!1,f.isLastSavedState(i)?(f.busy(!1),!1):(f.storeState(i),f.saveState(i),f.setTitle(i),f.Adapter.trigger(t,"statechange"),f.busy(!1),!0)},f.Adapter.bind(t,"popstate",f.onPopState),f.pushState=function(e,n,r,i){if(f.getHashByUrl(r)&&f.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==i&&f.busy())return f.pushQueue({scope:f,callback:f.pushState,args:arguments,queue:i}),!1;f.busy(!0);var o=f.createStateObject(e,n,r);return f.isLastSavedState(o)?f.busy(!1):(f.storeState(o),f.expectedStateId=o.id,p.pushState(o.id,o.title,o.url),f.Adapter.trigger(t,"popstate")),!0},f.replaceState=function(e,n,r,i){if(f.getHashByUrl(r)&&f.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==i&&f.busy())return f.pushQueue({scope:f,callback:f.replaceState,args:arguments,queue:i}),!1;f.busy(!0);var o=f.createStateObject(e,n,r);return f.isLastSavedState(o)?f.busy(!1):(f.storeState(o),f.expectedStateId=o.id,p.replaceState(o.id,o.title,o.url),f.Adapter.trigger(t,"popstate")),!0};if(o){try{f.store=u.parse(o.getItem("History.store"))||{}}catch(t){f.store={}}f.normalizeStore()}else f.store={},f.normalizeStore();f.Adapter.bind(t,"unload",f.clearAllIntervals),f.saveState(f.storeState(f.extractState(f.getLocationHref(),!0))),o&&(f.onUnload=function(){var t,e,n;try{t=u.parse(o.getItem("History.store"))||{}}catch(e){t={}}t.idToState=t.idToState||{},t.urlToId=t.urlToId||{},t.stateToId=t.stateToId||{};for(e in f.idToState)f.idToState.hasOwnProperty(e)&&(t.idToState[e]=f.idToState[e]);for(e in f.urlToId)f.urlToId.hasOwnProperty(e)&&(t.urlToId[e]=f.urlToId[e]);for(e in f.stateToId)f.stateToId.hasOwnProperty(e)&&(t.stateToId[e]=f.stateToId[e]);f.store=t,f.normalizeStore(),n=u.stringify(t);try{o.setItem("History.store",n)}catch(t){if(t.code!==DOMException.QUOTA_EXCEEDED_ERR)throw t;o.length&&(o.removeItem("History.store"),o.setItem("History.store",n))}},f.intervalList.push(l(f.onUnload,f.options.storeInterval)),f.Adapter.bind(t,"beforeunload",f.onUnload),f.Adapter.bind(t,"unload",f.onUnload)),f.emulated.pushState||(f.bugs.safariPoll&&f.intervalList.push(l(f.safariStatePoll,f.options.safariPollInterval)),"Apple Computer, Inc."!==i.vendor&&"Mozilla"!==(i.appCodeName||"")||(f.Adapter.bind(t,"hashchange",function(){f.Adapter.trigger(t,"popstate")}),f.getHash()&&f.Adapter.onDomLoad(function(){f.Adapter.trigger(t,"hashchange")})))},f.options&&f.options.delayInit||f.init()}(window))}.apply(e,r))&&(t.exports=i)},function(t,e,n){var r,i;r=[n(4)],void 0!==(i=function(){if(!navigator.userAgent.match(/android/i))return!1;var t,e=$("body").height();window.addEventListener("resize",function(){if(!(t&&Date.now()-t<1e3)){t=Date.now();var n=$("body").height();e<n?e=n:e>n&&($("input[type^='te']:focus").scrollFocus(),$("input[type='password']:focus").scrollFocus())}},!1);var n=function(t,e){try{return getComputedStyle(t).getPropertyValue(e)}catch(t){}return null};$.extend($.fn,{scrollFocus:function(){var t=this[0];if(t){for(var e=0,r=document.body;(t=t.parentNode)&&!t.nodeName.toLowerCase().match(/(html)|(body)/);)t.offsetTop&&"relative"===n(t,"position")&&(e+=t.offsetTop||0),"auto"===n(t,"overflow-y")&&(r=t);r.scrollTop=e-$(window).height()+114;try{t.select()}catch(t){}return this}}})}.apply(e,r))&&(t.exports=i)},function(t,e,n){var r,i;r=[n(0)],void 0!==(i=function(t){n(26);var e=$.ajax,r=function(t){return 306==t.status},i=function(t){t&&t.errorcode&&"requireLogin"==t.errorcode&&(location.href=t.loginUrl)},o=function(t,e){var n=$(".advanced-mask-layer"),r=$(".page-on-center"),i=0==r.length?$("body"):r,o=$(".validate-code-by-intercept");0==n.length?(i.append('<div class="advanced-mask-layer"></div>'),n=$(".advanced-mask-layer")):n.show(),0!=o.length&&o.remove(),$(".preloader-indicator-modal").remove(),i.append('<div class="validate-code-by-intercept"><div class="content"><div class="form-li" >您的操作出现异常,请输入验证码:</div><form method="post" action="http://m.elong.com/emdvalidate.html?t='+Math.random()+"&returnUrl="+encodeURIComponent(location.href)+'" onsubmit="return checkBeforeSubmit();"><div class="form-li" id="captchar-ajax"> </div><div class="form-li form-li2"><input class="txt l_black" name="code"></div><div class="form-li"><button class="submit">提交</button></div></form></div></div>'),$("#captchar-ajax").html('<img id="valcode" src="//www.elong.com/home/efecode.html?t='+Math.random()+'"><a id="abtnChange" >看不清，换一张</a>'),$("#abtnChange").on("click",function(){document.getElementById("valcode").src="//www.elong.com/home/efecode.html?t="+Math.random()}),window.checkBeforeSubmit=function(){if(""==$(".validate-code-by-intercept form input[name=code]").val().trim())return!1}},a=function(t,n){function a(t,e){return function(n,i,a){r(n)?o(t,e):c&&c.call(this,n,i,a)}}"object"==typeof t&&(n=t,t=void 0),n=n||{};var s=n.success,l=n.complete,c=n.error;n.error=a(t,n),n.success=function(t){i(t),s&&s.call(this,t)},n.complete=function(t,e){r(t)||l&&l.call(this,t,e)},void 0!==t&&(n.url=t),n.url+=(n.url.indexOf("?")>0?"&":"?")+"_rt="+(new Date).getTime(),e(n)};$.ajax=a}.apply(e,r))&&(t.exports=i)},,,,function(t,e,n){var r;/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 1.0.3
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */
!function(){function i(t,e){"use strict";function n(t,e){return function(){return t.apply(e,arguments)}}var r;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,!i.notNeeded(t)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,l=0,c=a.length;l<c;l++)s[a[l]]=n(s[a[l]],s);o&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,r):i.call(t,e,n,r)},t.addEventListener=function(e,n,r){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):i.call(t,e,n,r)}),"function"==typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(t){r(t)},!1),t.onclick=null)}}var o=navigator.userAgent.indexOf("Android")>0,a=/iP(ad|hone|od)/.test(navigator.userAgent),s=a&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=a&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),c=navigator.userAgent.indexOf("BB10")>0;i.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(a&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},i.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!o;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},i.prototype.sendClick=function(t,e){"use strict";var n,r;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},i.prototype.determineEventType=function(t){"use strict";return o&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},i.prototype.focus=function(t){"use strict";var e;a&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},i.prototype.updateScrollParent=function(t){"use strict";var e,n;if(!(e=t.fastClickScrollParent)||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},i.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},i.prototype.onTouchStart=function(t){"use strict";var e,n,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],a){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!s){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},i.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},i.prototype.onTouchMove=function(t){"use strict";return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},i.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},i.prototype.onTouchEnd=function(t){"use strict";var e,n,r,i,c,u=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(c=t.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(r=u.tagName.toLowerCase())){if(e=this.findControl(u)){if(this.focus(u),o)return!1;u=e}}else if(this.needsFocus(u))return t.timeStamp-n>100||a&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,t),a&&"select"===r||(this.targetElement=null,t.preventDefault()),!1);return!(!a||s||!(i=u.fastClickScrollParent)||i.fastClickLastScrollTop===i.scrollTop)||(this.needsClick(u)||(t.preventDefault(),this.sendClick(u,t)),!1)},i.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},i.prototype.onMouse=function(t){"use strict";return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},i.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},i.prototype.destroy=function(){"use strict";var t=this.layer;o&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},i.notNeeded=function(t){"use strict";var e,n,r;if(void 0===window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!o)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(c&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return!(!t||"none"!==t.style.msTouchAction)},i.attach=function(t,e){"use strict";return new i(t,e)},void 0!==(r=function(){"use strict";return i}.call(e,n,e,t))&&(t.exports=r)}()},,function(t,e,n){e=t.exports=n(23)(!1),e.push([t.i,".validate-code-by-intercept{position:absolute;top:50%;left:50%;margin-top:-120px;margin-left:-153px;padding-top:10px;height:220px;width:306px;z-index:15000;background-color:#fff;text-align:center;font-size:16px;font-weight:700;color:#353535}.validate-code-by-intercept .form-li{clear:both;height:44px;line-height:44px;margin:3px 12px}.validate-code-by-intercept .form-li2{overflow:hidden;border-radius:5px;border:1px solid #ddd;background-clip:padding-box;margin-bottom:10px}.validate-code-by-intercept input.txt{width:100%;padding:11px 10px 11px 13px;display:block;margin:0;border:0;background:0;font:16px/1.4 Helvetica Neue,HelveticaNeue,Helvetica,Arial,sans-serif}.validate-code-by-intercept .submit{font-size:1.1rem;width:100%;height:40px;line-height:40px;text-align:center;color:#fff;border-radius:5px;border-width:0;background-color:#e65749;margin:0 0 10px}",""])},function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=h[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(u(r.parts[o],e))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(u(r.parts[o],e));h[r.id]={id:r.id,refs:1,parts:a}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],a=i[1],s=i[2],l=i[3],c={css:a,media:s,sourceMap:l};n[o]?n[o].parts.push(c):e.push(n[o]={id:o,parts:[c]})}return e}function o(t,e){var n=m(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=w[w.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),w.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",c(e,t.attrs),o(t,e),e}function l(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",c(e,t.attrs),o(t,e),e}function c(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function u(t,e){var n,r,i;if(e.singleton){var o=b++;n=y||(y=s(e)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),r=p.bind(null,n,e),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=f.bind(null,n),i=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function d(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=S(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var h={},g=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}},v=g(function(){return window&&document&&document.all&&!window.atob}),m=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),y=null,b=0,w=[],S=n(25);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},void 0===e.singleton&&(e.singleton=v()),void 0===e.insertInto&&(e.insertInto="head"),void 0===e.insertAt&&(e.insertAt="bottom");var n=i(t);return r(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a],l=h[s.id];l.refs--,o.push(l)}if(t){r(i(t),e)}for(var a=0;a<o.length;a++){var l=o[a];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete h[l.id]}}}};var x=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return t;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(t,e,n){var r=n(22);"string"==typeof r&&(r=[[t.i,r,""]]);n(24)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r;void 0!==(r=function(t){var e={};return e.inherits=function(t,e){var n=function(){};n.prototype=e.prototype;var r=t.prototype,i=t.prototype=new n;for(var o in r)i[o]=r[o];return t.prototype.constructor=t,t.superClass=e.prototype,t},e.clone=function(t){if(!t||"object"!=typeof t)return t;var e=t;if(u.isArray(t))e=u.clone(t);else if("[object Object]"==={}.toString.call(t)&&"isPrototypeOf"in t){e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=lib.deepClone(t[n]))}return e},e.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t[n]=e[n]);return t},e}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){var e={};return e.toPascal=function(t){return t?t.charAt(0).toUpperCase()+e.toCamel(t.slice(1)):""},e.toCamel=function(t){return t?t.replace(/-([a-z])/g,function(t){return t.toUpperCase()}):""},e}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){var e={},n=function(t,e){var n=document.createElement("script");n.setAttribute("src",t),document.head.appendChild(n),n.onload=function(){e&&e(n)}};return e.getScript=function(t,e,r){for(var i=0,o=0,a=e.length;o<a;o++)n(e[o],function(){++i===a&&r()})},e.runScript=function(t,e){$("script",t).length&&$("script",t).each(function(){"text/custom"===$(this).attr("type")&&""!==$.trim($(this).html())?window.eval("slark.get('"+e+"').layerData("+$(this).html()+")"):window.eval($(this).html())})},e}.call(e,n,e,t))&&(t.exports=r)},,function(t,e,n){var r;void 0!==(r=function(){var t=!1;navigator.userAgent.match(/ (micromessenger|qq)/i)&&(t=!0),$(document).on("click","a[href='#']",function(t){return!1}),$(document).on("click",".label-switch",function(t){var e=$(this).find(".checkbox");return e.hasClass("active")?e.removeClass("active").attr("data-checkbox","false"):e.addClass("active").attr("data-checkbox","true"),!1}),$(document).on("click",".label-checkbox",function(t){var e=$(this).find(".checkbox");return e.hasClass("checked")?e.removeClass("checked"):e.addClass("checked"),!1}),$(document).on("click","[data-rel=back]",function(t){if(Date.now()-slark.initTime<1200)return!1;var e=$(this).attr("href"),n=$(this).attr("data-href"),r=e+location.hash;return"no"!=n&&(n&&"null"!=n?slark.addPager({url:n,active:!0,reverse:!0}):slark.isLowDevice||slark.canGoBack()||e===location.href||r===location.href?History.back():e&&slark.addPager({url:e,active:!0,reverse:!0}),!1)});var e={},n={};$(document).on("beforeshow",function(t){var r=$(t.srcElement||t.target),i=void 0!==t.originalEvent?t.originalEvent.detail:t.detail;if("layer"===r.attr("data-blend")){var o=$(r).attr("data-blend-id");if("layerGroup"===r.parent().attr("data-blend")){o=$(r).parents("div[data-blend=layer]").attr("data-blend-id");var a=slark.is_exists(o,"is_hash")?slark.router.getHashFromUrl(r.attr("data-url")):r.attr("data-url");"false"===r.parent().attr("data-routing")||(slark.get(slark.getActiveId()).url=r.attr("data-url"),slark.getActiveLayer().attr("data-url",r.attr("data-url")),History.replaceState({blendid:r.attr("data-blend-id")},document.title,a))}else{var a=slark.is_exists(o,"is_hash")?slark.router.getHashFromUrl(r.attr("data-url")):r.attr("data-url");e[i]||(e[i]=!0,r.attr("data-title")?History.pushState({blendid:r.attr("data-blend-id")},r.attr("data-title"),a):History.pushState({blendid:r.attr("data-blend-id")},r.attr("data-title")||r.attr("data-blend-id"),a)),r.attr("data-title")?(document.title&&document.title!==r.attr("data-title")&&History.replaceState(r.attr("data-blend-id"),r.attr("data-title"),a),n[r.attr("data-blend-id")]=r.attr("data-title")):n[r.attr("data-blend-id")]=!1}}});var r=function(t){if(navigator.userAgent.match(/(iphone)|(ipad)/i)){document.title=t;var e=$('<iframe src="/favicon.ico"></iframe>');e.on("load",function(){setTimeout(function(){e.off("load").remove()},0)}).appendTo($("body"))}else document.title=t};t&&($(document).on("beforeshow",function(t){var e=$(t.target||t.srcElement);e.attr("data-title")&&r(e.attr("data-title"))}),$(document).on("onrender",function(t){var e=$(t.target||t.srcElement);e.attr("data-title")&&t.detail==slark.getActiveId()&&r(e.attr("data-title"))})),$(document).on("onrender",function(t){var e=$(t.srcElement||t.target);!1===n[e.attr("data-blend-id")]&&e.attr("data-title")&&(n[e.attr("data-blend-id")]=e.attr("data-title"),History.replaceState(e.attr("data-blend-id"),e.attr("data-title"),location.href))}),$(document).on("onshow",function(t){var n=$(t.srcElement||t.target),r=void 0!==t.originalEvent?t.originalEvent.detail:t.detail;"layer"===n.attr("data-blend")&&(e[r]=!1)}),History.Adapter.bind(window,"statechange",function(){var t=History.getState(),r=slark.router.getidFromUrl(t.url);if(!slark.getActiveId()||slark.getActiveId()&&r===slark.getActiveId())return void console.log("active id === state layerid, return;");var i=slark.router.cleanUrl(t.url,r);n[r]&&n[r]!=document.title&&(document.title=n[r]),r&&!0!==e[r]&&slark.getActiveId()!==r&&(slark.get(r)?(slark.get(r).myGroup||(e[r]=!0),slark.is_exists(r,"is_hash")&&(i=slark.router.getUrlFromHashUrl(i,r)),slark.get(r).in({url:i})):(e[r]=!0,slark.addPager({url:t.url,active:!0})))})}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(){var t=function(){this.routers={}};return t.prototype.add=function(t){for(var e in t)t[e].url_pattern||(t[e].url_pattern=new RegExp(t[e].url,"i")),this.routers[e]=t[e]},t.prototype.getInfoFromId=function(t){if("string"!=typeof t)return void console.warn("router-getinfofromurl-warning. id is not string");for(var e in this.routers)if(this.routers[e].tpl===t)return this.routers[e]},t.prototype.getInfoFromUrl=function(t){if("string"!=typeof t)return void console.warn("router-getinfofromurl-warning. url is not string");if(t.indexOf("#!i!/")>0){var e=t.indexOf("!&")>0?t.indexOf("!&"):t.length,n=t.substring(t.indexOf("#!i!/")+5,e);return this.routers[n]}var r,i,o;for(var a in this.routers)this.routers[a].url_pattern.test(t)&&(o=t.match(this.routers[a].url_pattern)[0].length,r?i<o&&(r=this.routers[a],i=o):(r=this.routers[a],i=o));return r},t.prototype.getidFromUrl=function(t){var e=this.getInfoFromUrl(t);return e&&e.tpl},t.prototype.getUrlFromTpl=function(t){return this.routers[t]&&this.routers[t].url||""},t.prototype.cleanUrl=function(t,e,n,r){if(!e)return!1;"string"!=typeof e&&(e=this.getidFromUrl(t)),void 0!==n&&(e=r);var i=this.getUrlFromTpl(e);return void 0!==this.routers[e].is_hash&&!0===this.routers[e].is_hash?this.getUrlFromHashUrl(t,e):t.substring(t.lastIndexOf(i))},t.prototype.getUrlFromHashUrl=function(t,e){var n="";if(t.indexOf("!&")>0&&(n=t.substr(t.indexOf("!&")).replace(/!&/g,"&&").replace("&&","?")),t.indexOf("?")>0&&(n+=t.substr(t.indexOf("?"))),"string"!=typeof e&&(e=this.getidFromUrl(t)),!0===this.routers[e].is_hash)return this.getUrlFromTpl(e)+n},t.prototype.getTplFromHashUrl=function(t){if(t.indexOf("#!i!/")>0){var e=t.indexOf("!&")>0?t.indexOf("!&"):t.length;return t.substring(t.indexOf("#!i!/")+5,e)}if(void 0!==this.getidFromUrl(t))return this.getidFromUrl(t)},t.prototype.getHashFromUrl=function(t){var e=this.getInfoFromUrl(t),n=new RegExp("/\\w*"+e.tpl+"\\w*"),r=t.split("?")[0].match(n),i=void 0!==r?r.index+1:t.split("?")[0].length,o=t.substr(0,i);return t.indexOf("#!i!/")>0?o+=e.tpl:o+="#!i!/"+e.tpl,t.split("?").length>1&&(o+="!&"+t.split("?")[1].replace(/&&/g,"!&")),o},t}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(){var t={},e=(new Date).getTimezoneOffset();return t.isLowDevice=function(){var t=navigator.userAgent.toLowerCase();return!(-1===t.indexOf("iemobile")&&(-1===t.indexOf("android")||!/ucbrowser\/[2-9]\./.test(t)&&!/android [1-2]\./.test(t)))}(),t.supports=function(e,n){return!1!==t.hasSupport()&&(void 0===n?CSS.supports(e)||window.supportsCSS&&supportsCSS(e):CSS.supports(e,n)||window.supportsCSS&&supportsCSS(e,n))},t.hasSupport=function(){return!!(window.CSS&&window.CSS.supports||window.supportsCSS)},t.animationEnd=function(){var e;if(t.hasSupport()){var n={"-webkit-transform":"webkitAnimationEnd","-o-transform":"oAnimationEnd","-moz-transform":"AnimationEnd","-ms-transform":"msAnimationEnd",transform:"animationEnd"};for(e in n)if(t.supports(e,"initial"))return t.transform=e,n[e]}else{var r=document.createElement("element"),n={WebkitTransform:"webkitAnimationEnd",OTransform:"oAnimationEnd",MozTransform:"AnimationEnd",MsTransform:"msAnimationEnd",transform:"animationEnd"};for(e in n)if(void 0!==r.style[e])return t.transform=e,n[e]}}(),t.transitionEnd=function(){var e;if(t.hasSupport()){var n={"-webkit-transition":"webkitTransitionEnd","-o-transition":"oTransitionEnd","-moz-transition":"transitionend","-ms-transition":"msTransitionEnd",transition:"transitionend"};for(e in n)if(t.supports(e,"initial"))return t.transition=e,n[e]}else{var r=document.createElement("element"),n={WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",MozTransition:"transitionend",MsTransition:"msTransitionEnd",transition:"transitionend"};for(e in n)if(void 0!==r.style[e])return t.transition=e,n[e]}}(),t.moveWidget=function(e,n,r,i){t.isLowDevice||!t.animationEnd?(e.addClass("page-on-"+r),e.removeClass("page-on-"+n),i&&i()):(e.bind(t.animationEnd,function(){e.addClass("page-on-"+r),e.removeClass("page-on-"+n),e.removeClass("page-from-"+n+"-to-"+r),i&&i(),e.unbind(t.animationEnd)}),e.removeClass("page-on-"+n).addClass("page-from-"+n+"-to-"+r))},t.removeZeroOfDate=function(t){return"0"==t.charAt(0)?t.substring(1):t},t.getElementLeft=function(t){for(var e=t.offsetLeft,n=t.offsetParent;null!==n;)e+=n.offsetLeft,n=n.offsetParent;return e},t.getElementTop=function(t){for(var e=t.offsetTop,n=t.offsetParent;null!==n;)e+=n.offsetTop,n=n.offsetParent;return e},t.getElementVisibleLeft=function(t){for(var e=t.offsetLeft,n=t.offsetParent;null!==n;)e+=n.offsetLeft,e-=n.scrollLeft,n=n.offsetParent;return $(n).hasClass("page")&&(e-=n.scrollLeft),e},t.getElementVisibleTop=function(t){for(var e=t.offsetTop,n=t.offsetParent;null!==n;)e+=n.offsetTop,e-=n.scrollTop,n=n.offsetParent;return $(n).hasClass("page")&&(e-=n.scrollTop),e},t.getLanguage=function(t,e,n){if(!e)return"";var r=e[t];if(!r)return"";if(n&&n.length>0)for(var i=0;i<n.length;i++)r=r.replace(new RegExp("\\{"+i+"\\}","g"),n[i]);return r},t.getHash=function(t){for(var e=location.hash.substring(1).split("&"),n=0;n<e.length;n++){var r=e[n].split("=");if(r.length>1&&t==r[0])return r[1]}return null},t.setHash=function(e){if(e&&e.length){for(var n=location.hash,r=n,i=function(e,r){var i=n.indexOf(e),o=n.charAt(i+e.length);if(r){if(0===n.length)return void(n=e+"="+r);if(i>0&&("="==o||"&"==o||""===o)){var a=(t.getHash(e),n.substring(i)),o=a.indexOf("&");return a=a.substring(0,o>0?o:a.length),void(n=n.replace(a,e+"="+r))}return void(n+="&"==n.charAt(n.length-1)?"":"&"+e+"="+r)}},o=0;o<e.length;o++){var a=e[o];i(a.name,a.value)}"#"!==n.charAt(0)&&(n="#"+n),r!=n&&History.replaceState(this.getActiveId(),document.title,location.pathname+location.search+n)}},t.clone=function(e){var n=null;if(e)if("object"!=typeof e)n=e;else{n=e.constructor==Array?[]:{};for(var r in e)n[r]=t.clone(e[r])}else n=e;return n},t.smartFloat=function(t){return(t=Math.round(100*t))/100},t.countTimer={},t.countTimer.set=function(){},t.countTimer.clear=function(){},t.getParam=function(t){var e=location.search.substring(1).split("&");if(1!=e.length||""!=e[0])for(var n=0;n<e.length;n++){var r=e[n].split("=");if(r[0]==t)return r[1]}},t.handleBlankPaint=function(t,e,n,r){window.applicationCache.addEventListener("updateready",function(t){window.applicationCache.status==window.applicationCache.UPDATEREADY&&(window.applicationCache.swapCache(),confirm("存在最新数据，是否刷新")&&window.location.reload())},!1)},t.testVersion=function(t){if(0==ElongBridge.RUNTIME_VERSION)return!1;for(var e=ElongBridge.RUNTIME_VERSION.split("."),n=t.split("."),r=!1,i=0;i<e.length;i++)e[i]=parseInt(e[i]),n[i]=parseInt(n[i]);return e.length>2&&(e[0]>n[0]?r=!0:e[0]==n[0]&&(e[1]>n[1]?r=!0:e[1]==n[1]&&e[2]>=n[2]&&(r=!0))),r},t.setAppNavBar=function(){"undefined"!=typeof ElongBridge&&t.testVersion("9.10.0")&&ElongBridge.setNavbar({data:[{key:"title",content:document.title,priority:0}],onsuccess:function(){console.log("set navbar title success")},onfail:function(){console.log("set navbar title faile")}})},t.createNewDate=function(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);t=t.toString();var r,i;return r=arguments.length>1?new Date(t):1==arguments.length?new Date(arguments[0]):new Date,i=r.getTime(),i=i+60*e*1e3+288e5,new Date(i)},t.setCookie=function(t,e,n){var r=new Date;r.setDate(r.getDate()+n),document.cookie=t+"="+escape(e)+(null==n?"":";expires="+r.toGMTString())+";path=/;domain=elong.com"},t}.call(e,n,e,t))&&(t.exports=r)},,,,,,,,,function(t,e,n){var r;void 0!==(r=function(){function t(){var t={},e={};return t.setItem=function(t,n){e[t]=n},t.getItem=function(t){return e[t]},t.removeItem=function(t){delete e[t]},t.clear=function(){e={}},t}try{localStorage.setItem("localStorage",1),localStorage.removeItem("localStorage")}catch(e){window.localStorage&&window.sessionStorage||(Object.defineProperty(window,"localStorage",{value:{},writable:!0,configurable:!0,enumerable:!0}),Object.defineProperty(window,"sessionStorage",{value:{},writable:!0,configurable:!0,enumerable:!0})),localStorage.__proto__=t(),sessionStorage.__proto__=t()}}.call(e,n,e,t))&&(t.exports=r)},,,,,function(t,e,n){var r;void 0!==(r=function(t){function e(t){t=t||{};this.id||(this.id=t.id||r.getUniqueID()),this.url=t.url||"",this.main=t.main?this.setMainAttr(t.main):this.initMain(t),this.controllerData=null,this.initOptions(t),i.register(this),this.currentStates={},this._listener={}}var r=n(1),i=n(3);return e.prototype={constructor:e,currentStates:null,_listener:null,getType:function(){return this.type||"control"},initOptions:function(t){t=t||{},this.setProperties(t)},initMain:function(){var t=document.createElement("div");return this.setMainAttr(t),t},setMainAttr:function(t){return!!t&&(t.setAttribute("data-blend",this.getType()),t.setAttribute("data-blend-id",this.id),this.url&&t.setAttribute("data-url",this.url),t.id=r.getUniqueID(),t)},render:function(){if(!this.hasState("got")&&!this.hasState("get")){this.addState("get"),this.fire("beforerender",this.id);var t=this;return t.fire("onload",this.id),t.paint(),this.main}},paint:function(t,e){},appendTo:function(t){this.main.appendChild(t)},insertBefore:function(t){this.main.parentNode.insertBefore(t,this.main)},dispose:function(){this.fire("beforedestroy"),this.fire("afterdestroy")},clearDOMEvents:function(){},destroy:function(){this.dispose(),i.cancel(this),$(this.main).remove()},get:function(t){var e=this["get"+r.toPascal(t)];return"function"==typeof e?e.call(this):this[t]},set:function(t,e){var n=this["set"+r.toPascal(t)];if("function"==typeof n)return n.call(this,e);var i={};i[t]=e,this.setProperties(i)},setProperties:function(t){r.extend(this,t)},disable:function(){this.addState("disabled")},enable:function(){this.removeState("disabled")},isDisabled:function(){return this.hasState("disabled")},setUrl:function(t){this.url=t,this.main.setAttribute("data-url",t)},addState:function(t){this.hasState(t)||(this.currentStates[t]=!0)},removeState:function(t){this.hasState(t)&&delete this.currentStates[t]},toggleState:function(t){this[this.hasState(t)?"removeState":"addState"](t)},hasState:function(t){if("string"==typeof t)return!!this.currentStates[t];var e=this,n=t.filter(function(t){return e.currentStates[t]});return!!n.length&&n},on:function(t,e){var n=this;n._listener[t]||(n._listener[t]=[]),n._listener[t].push(e)},off:function(t,e){var n=this._listener[t];if(n){if(!e)return void delete this._listener[t];n.splice(types.indexOf(e),1),n.length||delete this._listener[t]}},fire:function(t,e,n){if(!t)throw new Error("未指定事件名");var r=this._listener[t];if(n=n||this,r)for(var i=0,o=r.length;i<o;i++)r[i].apply(n,e);var a=this["on"+t];return"function"==typeof a&&a.call(this,event),event}},e}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){var e=n(3),r=n(1),i=n(10),o=n(50),a=n(5),s=n(9),l=!1,c=($("html").hasClass("android"),function(t){i.call(this,t),this._init(t)});r.inherits(c,i),c.prototype.constructor=c,c.prototype.type="layerGroup",c.prototype.top=0,c.prototype.bottom=0,c.prototype.left=0,c.prototype.right=0,c.prototype.index=0,c.prototype._init=function(t){var e=this,n={},i=null;if(e.layers&&e.layers.length){!1===this.routing?this.main.setAttribute("data-routing","false"):this.main.setAttribute("data-routing","true");for(var o=0,a=e.layers.length;o<a;o++)e.layers[o].id||(e.layers[o].id=r.getUniqueID()),e.layers[o].active&&(i?(console.log("active id:"+i+" is already defined.. ignore the coming active ones:"+e.layers[o].id),delete e.layers[o].active):i=e.layers[o].id),e.layers[o].index=o,n[e.layers[o].id]=e.layers[o];return e._layers=n,e.__layers={},e.activeId=i||e.layers[0].id,e.layerArray=[],e.render(),e.once("onrender",function(){e._initEvent(),t.active&&e.in()}),e.once("renderfail",function(){console.error("render fail")}),this}};return c.prototype._initEvent=function(){return!1!==this.enableSwipe&&this.initSwipe(),null},c.prototype.paint=function(){var t=this;"none"===this.layerAnimate?l=!0:this.layerAnimate&&$(this.main).addClass(this.layerAnimate),void 0!==this.parent?$(this.main).addClass("layerGroup page page-on-center").appendTo(this.parent):$(this.main).addClass("layerGroup page page-on-center").appendTo(e.activeLayer),$(this.main).css({top:t.top,left:t.left,right:t.right,bottom:t.bottom}),(t.top||t.bottom)&&($(this.main).css({height:"calc(100% - "+(t.top+t.bottom)+"px)",width:"calc(100% - "+(t.left+t.right)+"px)"}),-1===$(this.main).css("height").indexOf("calc")&&($(this.main).css({height:$("body").height()-(t.top+t.bottom),width:$("body").width()+(t.left+t.right)}),$(window).resize(function(){$(t.main).css({height:$("body").height()-(t.top+t.bottom),width:$("body").width()+(t.left+t.right)})})));for(var n in this._layers)this.add(this._layers[n]);return this},c.prototype.active=function(t){return o.showLayer(this.id,t,this),this},c.prototype.idtoindex=function(t){return this._layers[t].index||0},c.prototype.indextoid=function(t){return t>=this.layers.length?t=this.layers.length-1:t<0&&(t=0),this.index=t,this.layers[t].id},c.prototype.getIdByStep=function(t){return this.index=this.idtoindex(this.activeId),this.indextoid(this.index+t)},c.prototype.next=function(){this.index=this.idtoindex(this.activeId);var t=this.indextoid(++this.index);return o.showLayer(this.id,t,this),this},c.prototype.prev=function(){this.index=this.idtoindex(this.activeId);var t=this.indextoid(--this.index);return o.showLayer(this.id,t,this),this},c.prototype.remove=function(t){return o.removeLayer(this.id,t),delete this._layers[t],this},c.prototype.add=function(t,e){var n=this;t.id||(t.id=r.getUniqueID());var i=Blend.ui.activeLayer.attr("data-blend-id");if(t.tpl="undefined"!=typeof template&&template.get(i)&&"function"==typeof template.get(i)?template.get(i):i,t.groupId=i,this._layers[t.id]&&this.__layers[t.id])return console.log("layerid:"+t.id+" in group has already exist..."),t.url&&(this._layers[t.id].url,t.url),this.__layers[t.id].in(),void(this.__layers[t.id].force&&this.__layers[t.id].onrender());n.onshow&&(t.onshow=n.onshow),n.beforeshow&&(t.beforeshow=n.beforeshow),n.onrender&&(t.onrender=n.onrender),t.myGroup=this;var o=new s(t);return this.__layers[t.id]=o,this._layers[t.id]=t,0===e?this.layerArray.unshift(o):this.layerArray.push(o),this.main.appendChild(o.main),this},c.prototype.update=function(t,e){return o.updateLayer(this.id,t,e),r.extend(this._layers[e.id],e),this},c.prototype.in=function(){if(this.isActive())return void console.log("layergroup is already active.");this.__layers[this.activeId].in()},c.prototype.out=function(){var t=this;if(!this.isActive())return void console.log("layer group is already inactivity ");var n=e.layerStack.length>1?e.layerStack[e.layerStack.length-2]:$(".page-on-left:first");l?(n.removeClass("page-on-left").addClass("page-on-center"),$(t.main).removeClass("page-on-center").addClass("page-on-right")):(n.removeClass("page-on-left").addClass("page-from-left-to-center"),$(t.main).removeClass("page-on-center").addClass("page-from-center-to-right")),e.layerStack.pop();var r=function(){t.fire("onhide")};return l?r():this.animationEnd(function(){r(),n.removeClass("page-from-left-to-center").addClass("page-on-center"),$(t.main).removeClass("page-from-center-to-right").addClass("page-on-right")}),this},c.prototype.destroy=function(t){i.prototype.destroy.apply(this,arguments)},c.prototype.initSwipe=function(){for(var t in this._layers)a.startSwipe(this.__layers[t],$(this.main))},c.prototype.isActive=function(){return $(this.main).hasClass("page-on-center")},c}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){var e={},n=function(){};return e.layerStopRefresh=function(t){t||(t=Blend.ui.activeLayer.attr("data-blend-id")||"0"),Blend.ui.get(t).endPullRefresh()},e.layerBack=function(t){t||(t=Blend.ui.activeLayer.attr("data-blend-id")||"0"),Blend.ui.get(t).out()},e.removeSplashScreen=n,e}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r;void 0!==(r=function(t){var e={},r=n(5),i=window.devicePixelRatio||2;return e.create=function(t,e,n,o){var a={id:t||uniqid(),infos:e};n.active&&(a.active=n.active);var s={};["left","top","width","height"].forEach(function(t,e){void 0!==n[t]&&(s[t]=n[t]*i)});for(var l,c=0,u=e.length;c<u;c++)l=document.createElement("div"),l.className="page",r.prepare(e[c].id,n,l),o.main.appendChild(l);return t},e.showLayer=function(t,e,n){return n.__layers[e]?(n.__layers[e].in(),n.activeId=e):console.warn("no layerid found..."+e),t},e.addLayer=function(t,e){return window.lc_bridge.addLayerInGroup(t,e,index),t},e.removeLayer=function(t,e){return window.lc_bridge.removeLayerInGroup(t,e),t},e.updateLayer=function(t,e,n){return window.lc_bridge.updateLayerInGroup(t,e,n),t},e}.call(e,n,e,t))&&(t.exports=r)},function(t,e,n){var r,i;r=[n(3),n(9),n(48)],void 0!==(i=function(t,e,n){"use strict";return t=t||{},t.Layer=e,t.LayerGroup=n,window.Blend=window.Blend||{},window.Blend.ui=t,t}.apply(e,r))&&(t.exports=i)},function(t,e,n){n(4),n(14),n(15),n(0),n(6),t.exports=n(16)}]);